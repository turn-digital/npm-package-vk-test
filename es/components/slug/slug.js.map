{"version":3,"file":"slug.js","names":["classMap","html","property","prefix","CDSToggleTip","styles","Undo16","SLUG_SIZE","SLUG_KIND","SLUG_DOT_TYPE","carbonElement","customElement","CDSSlug","_decorate","_initialize","_CDSToggleTip","constructor","args","F","d","kind","decorators","reflect","key","value","attribute","DEFAULT","type","Boolean","EXTRA_SMALL","revertActive","removeAttribute","open","_t","_","size","aiText","aiTextLabel","slugLabel","ariaLabel","classes","INLINE","_t2","id","_handleClick","_t3","revertLabel","_t4","_t5","slot","_t6","_renderTooltipButton","_renderTooltipContent","attributeChangedCallback","name","old","newValue","_this$parentElement","_get","_getPrototypeOf","prototype","call","parentElement","requestUpdate","updated","changedProperties","HOLLOW","dotType","setAttribute","static","default"],"sources":["components/slug/slug.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport CDSToggleTip from '../toggle-tip/toggletip';\nimport styles from './slug.scss';\nimport Undo16 from '@carbon/icons/lib/undo/16';\nimport { SLUG_SIZE, SLUG_KIND, SLUG_DOT_TYPE } from './defs';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Basic slug.\n *\n * @element cds-slug\n */\n@customElement(`${prefix}-slug`)\nexport default class CDSSlug extends CDSToggleTip {\n  @property({ reflect: true })\n  slot = 'slug';\n  /**\n   * Specify the correct translation of the AI text\n   */\n  @property({ attribute: 'ai-text' })\n  aiText = 'AI';\n\n  /**\n   * Specify additional text to be rendered next to the AI label in the inline variant\n   */\n  @property({ attribute: 'ai-text-label' })\n  aiTextLabel = '';\n\n  /**\n   * Specify the type of dot that should be rendered in front of the inline variant: (default, hollow)\n   */\n  @property({ reflect: true, attribute: 'dot-type' })\n  dotType = SLUG_DOT_TYPE.DEFAULT;\n\n  /**\n   * Specify the type of Slug, from the following list of types: (default, hollow, inline)\n   */\n  @property({ reflect: true })\n  kind = SLUG_KIND.DEFAULT;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ type: Boolean, attribute: 'revert-active' })\n  revertActive = false;\n\n  /**\n   * Specify whether the revert button should be visible\n   */\n  @property({ attribute: 'revert-label' })\n  revertLabel = 'Revert to AI input';\n\n  /**\n   * Slug size should be mini, 2xs, xs, sm, md, lg, xl.\n   */\n  @property({ reflect: true })\n  size = SLUG_SIZE.EXTRA_SMALL;\n\n  /**\n   * Specify the text that will be provided to the aria-label of the `Slug` button\n   */\n  @property({ attribute: 'slug-label' })\n  slugLabel = 'Show information';\n\n  @property()\n  previousValue;\n\n  protected _handleClick = () => {\n    if (this.revertActive) {\n      this.revertActive = false;\n      this.removeAttribute('revert-active');\n    } else {\n      this.open = !this.open;\n    }\n  };\n\n  protected _renderToggleTipLabel = () => {\n    return html``;\n  };\n\n  protected _renderTooltipButton = () => {\n    const { size, kind, aiText, aiTextLabel, slugLabel } = this;\n    const ariaLabel = `${aiText} - ${slugLabel}`;\n    const classes = classMap({\n      [`${prefix}--toggletip-button`]: true,\n      [`${prefix}--slug__button`]: true,\n      [`${prefix}--slug__button--${size}`]: size,\n      [`${prefix}--slug__button--${kind}`]: kind,\n      [`${prefix}--slug__button--inline-with-content`]:\n        kind === SLUG_KIND.INLINE && aiTextLabel,\n    });\n    return html`\n      <button\n        aria-controls=\"${this.id}\"\n        @click=\"${this._handleClick}\"\n        class=${classes}\n        aria-label=\"${ariaLabel}\">\n        <span class=\"${prefix}--slug__text\">${aiText}</span>\n        ${aiTextLabel && kind === SLUG_KIND.INLINE\n          ? html`\n              <span class=\"${prefix}--slug__additional-text\">\n                ${aiTextLabel}\n              </span>\n            `\n          : ``}\n      </button>\n    `;\n  };\n\n  protected _renderInnerContent = () => {\n    const { revertActive, revertLabel } = this;\n    return html`\n      ${revertActive\n        ? html`\n            <cds-icon-button\n              kind=\"ghost\"\n              size=\"sm\"\n              @click=\"${this._handleClick}\">\n              <span slot=\"tooltip-content\"> ${revertLabel} </span>\n              ${Undo16({ slot: 'icon' })}\n            </cds-icon-button>\n          `\n        : html`\n            ${this._renderTooltipButton()} ${this._renderTooltipContent()}\n          `}\n    `;\n  };\n\n  attributeChangedCallback(name, old, newValue) {\n    super.attributeChangedCallback(name, old, newValue);\n\n    //@ts-ignore typescript does not think requestUpdate() exists on parentElement\n    name === 'revert-active' ? this.parentElement?.requestUpdate() : ``;\n  }\n\n  updated(changedProperties) {\n    super.updated(changedProperties);\n    if (\n      this.kind !== SLUG_KIND.HOLLOW &&\n      this.dotType !== SLUG_DOT_TYPE.HOLLOW\n    ) {\n      this.setAttribute('enabled', '');\n    } else {\n      this.removeAttribute('enabled');\n    }\n  }\n\n  static styles = styles;\n}\n"],"mappings":"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"}