{"version":3,"file":"file-uploader-item.js","names":["LitElement","html","property","CheckmarkFilled16","Close16","WarningFilled16","prefix","LOADING_TYPE","FILE_UPLOADER_ITEM_SIZE","FILE_UPLOADER_ITEM_STATE","styles","carbonElement","customElement","CDSFileUploaderItem","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","key","value","_handleClickDeleteButton","init","bubbles","cancelable","composed","eventBeforeDelete","eventDelete","dispatchEvent","CustomEvent","_renderEditing","iconDescription","invalid","handleClickDeleteButton","_t","_","undefined","class","_renderUploading","_t2","SMALL","_renderUploaded","_renderStatus","state","EDIT","UPLOADING","COMPLETE","decorators","attribute","type","Boolean","reflect","MEDIUM","render","errorSubject","errorBody","_t3","static"],"sources":["components/file-uploader/file-uploader-item.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2020, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport CheckmarkFilled16 from '@carbon/icons/lib/checkmark--filled/16';\nimport Close16 from '@carbon/icons/lib/close/16';\nimport WarningFilled16 from '@carbon/icons/lib/warning--filled/16';\nimport { prefix } from '../../globals/settings';\nimport { LOADING_TYPE } from '../loading/loading';\nimport { FILE_UPLOADER_ITEM_SIZE, FILE_UPLOADER_ITEM_STATE } from './defs';\nimport styles from './file-uploader.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\nexport { FILE_UPLOADER_ITEM_SIZE, FILE_UPLOADER_ITEM_STATE };\n\n/**\n * File uploader item.\n *\n * @element cds-file-uploader-item\n * @slot validity-message The validity message.\n * @slot validity-message-supplement The supplemental validity message.\n * @fires cds-file-uploader-item-beingdeleted\n *   The custom event fired before this file uploader item is being deleted upon a user gesture.\n *   Cancellation of this event stops the user-initiated action of deleting this file uploader item.\n * @fires cds-file-uploader-item-deleted - The custom event fired after this file uploader item is deleted upon a user gesture.\n */\n@customElement(`${prefix}-file-uploader-item`)\nclass CDSFileUploaderItem extends LitElement {\n  /**\n   * Handles `click` event on the delete button.\n   */\n  private _handleClickDeleteButton() {\n    const init = {\n      bubbles: true,\n      cancelable: true,\n      composed: true,\n    };\n    const { eventBeforeDelete, eventDelete } = this\n      .constructor as typeof CDSFileUploaderItem;\n    if (this.dispatchEvent(new CustomEvent(eventBeforeDelete, init))) {\n      this.dispatchEvent(new CustomEvent(eventDelete, init));\n    }\n  }\n\n  /**\n   * @returns The content showing the editing UI of this file uploader item.\n   */\n  private _renderEditing() {\n    const {\n      iconDescription,\n      invalid,\n      _handleClickDeleteButton: handleClickDeleteButton,\n    } = this;\n    return html`\n      ${!invalid\n        ? undefined\n        : WarningFilled16({ class: `${prefix}--file-invalid` })}\n      <button\n        type=\"button\"\n        aria-label=\"${iconDescription}\"\n        class=\"${prefix}--file-close\"\n        @click=\"${handleClickDeleteButton}\">\n        ${Close16()}\n      </button>\n    `;\n  }\n\n  /**\n   * @returns The content showing this file uploader's file uploading status as in progress.\n   */\n  private _renderUploading() {\n    const { iconDescription } = this;\n    return html`\n      <cds-loading\n        assistive-text=\"${iconDescription}\"\n        type=\"${LOADING_TYPE.SMALL}\"></cds-loading>\n    `;\n  }\n\n  /**\n   * @returns The content showing this file uploader's file uploading status as complete.\n   */\n  private _renderUploaded() {\n    const { iconDescription } = this;\n    return CheckmarkFilled16({\n      class: `${prefix}--file-complete`,\n      'aria-label': iconDescription,\n    });\n  }\n\n  /**\n   * @returns The content showing this file uploader's status.\n   */\n  private _renderStatus() {\n    const { state } = this;\n    switch (state) {\n      case FILE_UPLOADER_ITEM_STATE.EDIT:\n        return this._renderEditing();\n      case FILE_UPLOADER_ITEM_STATE.UPLOADING:\n        return this._renderUploading();\n      case FILE_UPLOADER_ITEM_STATE.COMPLETE:\n        return this._renderUploaded();\n      default:\n        return undefined;\n    }\n  }\n\n  /**\n   * The `aria-label` attribute for the icon to delete this file uploader item.\n   */\n  @property({ attribute: 'icon-description' })\n  iconDescription = 'Delete this file';\n\n  /**\n   * Controls the invalid state and visibility of the `validityMessage`.\n   */\n  @property({ type: Boolean, reflect: true })\n  invalid = false;\n\n  /**\n   * The size of this file uploader item.\n   */\n  @property({ reflect: true })\n  size = FILE_UPLOADER_ITEM_SIZE.MEDIUM;\n\n  /**\n   * The state of this file uploader item.\n   */\n  @property({ reflect: true })\n  state = FILE_UPLOADER_ITEM_STATE.UPLOADING;\n\n  /**\n   * The error subject text.\n   */\n  @property({ attribute: 'error-subject' })\n  errorSubject = '';\n\n  /**\n   * The error body text\n   */\n  @property({ attribute: 'error-body' })\n  errorBody = '';\n\n  render() {\n    const { invalid, errorSubject, errorBody } = this;\n    return html` <p class=\"${prefix}--file-filename\"><slot></slot></p>\n      <span class=\"${prefix}--file__state-container\"\n        >${this._renderStatus()}</span\n      >\n      <div\n        class=\"${prefix}--form-requirement\"\n        ?hidden=\"${!invalid && !errorSubject}\">\n        <div class=\"${prefix}--form-requirement__title\">${errorSubject}</div>\n        <p\n          class=\"${prefix}--form-requirement__supplement\"\n          ?hidden=\"${!errorBody}\">\n          ${errorBody}\n        </p>\n      </div>`;\n  }\n\n  /**\n   * The name of the custom event fired before this file uplodaer item is being deleted upon a user gesture.\n   * Cancellation of this event stops the user-initiated action of deleting this file uploader item.\n   */\n  static get eventBeforeDelete() {\n    return `${prefix}-file-uploader-item-beingdeleted`;\n  }\n\n  /**\n   * The name of the custom event fired after this file uplodaer item is deleted upon a user gesture.\n   */\n  static get eventDelete() {\n    return `${prefix}-file-uploader-item-deleted`;\n  }\n\n  static styles = styles;\n}\n\nexport default CDSFileUploaderItem;\n"],"mappings":"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"}