{"version":3,"file":"popover.js","names":["classMap","LitElement","html","property","customElement","prefix","styles","CDSPopover","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","reflect","type","String","key","value","Boolean","_handleSlotChange","target","tabTip","component","assignedNodes","filter","node","nodeType","Node","TEXT_NODE","textContent","trim","classList","add","requestUpdate","updated","changedProperties","selectorPopoverContent","forEach","name","has","querySelector","render","dropShadow","highContrast","open","handleSlotChange","caret","align","classes","_t","_","static"],"sources":["components/popover/popover.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { LitElement, html } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport styles from './popover.scss';\nimport CDSPopoverContent from './popover-content';\n\n/**\n * Popover.\n *\n * @element cds-popover\n */\n@customElement(`${prefix}-popover`)\nclass CDSPopover extends LitElement {\n  /**\n   * Specify direction of alignment\n   */\n  @property({ reflect: true, type: String })\n  align = '';\n\n  /**\n   * Specify whether a caret should be rendered\n   */\n  @property({ type: Boolean, reflect: true })\n  caret = true;\n\n  /**\n   * Specify whether a dropShadow should be rendered\n   */\n  @property({ type: Boolean, reflect: true })\n  dropShadow = true;\n\n  /**\n   * Render the component using the high-contrast variant\n   */\n  @property({ type: Boolean, reflect: true })\n  highContrast = false;\n\n  /**\n   * Specify whether the component is currently open or closed\n   */\n  @property({ type: Boolean, reflect: true })\n  open = false;\n\n  /**\n   * Render the component using the tab tip variant\n   */\n  @property({ type: Boolean, reflect: true })\n  tabTip = false;\n\n  /**\n   * Handles `slotchange` event.\n   */\n  protected _handleSlotChange({ target }: Event) {\n    if (this.tabTip) {\n      const component = (target as HTMLSlotElement)\n        .assignedNodes()\n        .filter(\n          (node) =>\n            node.nodeType !== Node.TEXT_NODE || node!.textContent!.trim()\n        );\n      (component[0] as HTMLElement).classList.add(\n        `${prefix}--popover--tab-tip__button`\n      );\n    }\n    this.requestUpdate();\n  }\n\n  updated(changedProperties) {\n    const { selectorPopoverContent } = this.constructor as typeof CDSPopover;\n    ['open', 'align', 'caret', 'dropShadow', 'tabTip'].forEach((name) => {\n      if (changedProperties.has(name)) {\n        const { [name as keyof CDSPopover]: value } = this;\n        (this.querySelector(selectorPopoverContent) as CDSPopoverContent)[\n          name\n        ] = value;\n      }\n    });\n  }\n\n  render() {\n    const {\n      dropShadow,\n      highContrast,\n      open,\n      tabTip,\n      _handleSlotChange: handleSlotChange,\n    } = this;\n    if (tabTip) {\n      this.caret = tabTip ? false : true;\n    }\n    this.align = this.align ? this.align : tabTip ? 'bottom-left' : 'bottom';\n\n    const classes = classMap({\n      [`${prefix}--popover-container`]: true,\n      [`${prefix}--popover--caret`]: this.caret,\n      [`${prefix}--popover--drop-shadow`]: dropShadow,\n      [`${prefix}--popover--high-contrast`]: highContrast,\n      [`${prefix}--popover--open`]: open,\n      [`${prefix}--popover--${this.align}`]: true,\n      [`${prefix}--popover--tab-tip`]: tabTip,\n    });\n    return html`\n    <span class=\"${classes}\">\n      <slot @slotchange=\"${handleSlotChange}\"></slot>\n      <slot name=\"content\"><slot>\n    </span>\n    `;\n  }\n\n  /**\n   * A selector that will return the CDSPopoverContent.\n   */\n  static get selectorPopoverContent() {\n    return `${prefix}-popover-content`;\n  }\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSPopover;\n"],"mappings":"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"}