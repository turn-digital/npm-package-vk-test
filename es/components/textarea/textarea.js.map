{"version":3,"file":"textarea.js","names":["LitElement","html","property","query","classMap","WarningFilled16","WarningAltFilled16","prefix","ifNonEmpty","ifDefined","CDSTextInput","styles","carbonElement","customElement","CDSTextarea","_decorate","_initialize","_CDSTextInput","constructor","args","F","d","kind","key","value","_handleInput","target","decorators","type","Number","Boolean","reflect","render","_this$value","enableCounter","maxCount","textCount","length","invalidIcon","class","warnIcon","textareaClasses","warn","invalid","textareaWrapperClasses","readonly","_hasSlug","labelClasses","disabled","helperTextClasses","counter","_t","_","icon","_t2","hideLabel","_t3","_t4","label","autocomplete","autofocus","cols","name","pattern","placeholder","required","rows","_handleSlotChange","helperText","invalidText","warnText","static","_objectSpread","shadowRootOptions","delegatesFocus"],"sources":["components/textarea/textarea.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport WarningFilled16 from '@carbon/icons/lib/warning--filled/16';\nimport WarningAltFilled16 from '@carbon/icons/lib/warning--alt--filled/16';\nimport { prefix } from '../../globals/settings';\nimport ifNonEmpty from '../../globals/directives/if-non-empty';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport CDSTextInput from '../text-input/text-input';\nimport styles from './textarea.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Text area.\n *\n * @element cds-textarea\n * @slot helper-text - The helper text.\n * @slot label-text - The label text.\n * @slot validity-message - The validity message. If present and non-empty, this input shows the UI of its invalid state.\n */\n@customElement(`${prefix}-textarea`)\nclass CDSTextarea extends CDSTextInput {\n  /**\n   * Handles `oninput` event on the `<input>`.\n   *\n   * @param event The event.\n   * @param event.target The event target.\n   */\n  protected _handleInput({ target }: Event) {\n    this.value = (target as HTMLTextAreaElement).value;\n  }\n\n  /**\n   * The number of columns for the stextarea to show by default\n   */\n  @property({ type: Number })\n  cols;\n\n  /**\n   * ID to link the `label` and `textarea`\n   */\n  @property()\n  id = '';\n\n  /**\n   * Pattern to validate the textarea against for HTML validity checking\n   */\n  @property()\n  pattern = '';\n\n  /**\n   * Boolean property to set the required status\n   */\n  @property({ type: Boolean, reflect: true })\n  required = false;\n\n  /**\n   * The number of rows for the textarea to show by default\n   */\n  @property()\n  rows = 4;\n\n  /**\n   * Get a reference to the underlying textarea so we can directly apply values.\n   * This lets us fixe a bug where after a user would clear text, the value wouldn't update programmatically\n   */\n  @query('textarea')\n  protected _textarea!: HTMLTextAreaElement;\n\n  render() {\n    const { enableCounter, maxCount } = this;\n\n    const textCount = this.value?.length;\n\n    const invalidIcon = WarningFilled16({\n      class: `${prefix}--text-area__invalid-icon`,\n    });\n\n    const warnIcon = WarningAltFilled16({\n      class: `${prefix}--text-area__invalid-icon ${prefix}--text-area__invalid-icon--warning`,\n    });\n\n    const textareaClasses = classMap({\n      [`${prefix}--text-area`]: true,\n      [`${prefix}--text-area--warn`]: this.warn,\n      [`${prefix}--text-area--invalid`]: this.invalid,\n    });\n\n    const textareaWrapperClasses = classMap({\n      [`${prefix}--text-area__wrapper`]: true,\n      [`${prefix}--text-area__wrapper--warn`]: this.warn,\n      [`${prefix}--text-area__wrapper--readonly`]: this.readonly,\n      [`${prefix}--text-area__wrapper--slug`]: this._hasSlug,\n    });\n\n    const labelClasses = classMap({\n      [`${prefix}--label`]: true,\n      [`${prefix}--label--disabled`]: this.disabled,\n    });\n\n    const helperTextClasses = classMap({\n      [`${prefix}--form__helper-text`]: true,\n      [`${prefix}--form__helper-text--disabled`]: this.disabled,\n    });\n\n    const counter =\n      enableCounter && maxCount\n        ? html` <label class=\"${labelClasses}\">\n            <slot name=\"label-text\">${textCount}/${maxCount}</slot>\n          </label>`\n        : null;\n\n    const icon = () => {\n      if (this.invalid) {\n        return invalidIcon;\n      } else if (this.warn && !this.invalid) {\n        return warnIcon;\n      }\n      return null;\n    };\n\n    return html`\n      <div class=\"${prefix}--text-area__label-wrapper\">\n        ${this.hideLabel\n          ? html``\n          : html`\n              <label class=\"${labelClasses}\" for=\"input\">\n                <slot name=\"label-text\"> ${this.label} </slot>\n              </label>\n            `}\n        ${counter}\n      </div>\n      <div class=\"${textareaWrapperClasses}\" ?data-invalid=\"${this.invalid}\">\n        ${icon()}\n        <textarea\n          autocomplete=\"${this.autocomplete}\"\n          ?autofocus=\"${this.autofocus}\"\n          class=\"${textareaClasses}\"\n          cols=\"${ifDefined(this.cols)}\"\n          ?data-invalid=\"${this.invalid}\"\n          ?disabled=\"${this.disabled}\"\n          id=\"input\"\n          name=\"${ifNonEmpty(this.name)}\"\n          pattern=\"${ifNonEmpty(this.pattern)}\"\n          placeholder=\"${ifNonEmpty(this.placeholder)}\"\n          ?readonly=\"${this.readonly}\"\n          ?required=\"${this.required}\"\n          rows=\"${ifDefined(this.rows)}\"\n          .value=\"${this.value}\"\n          maxlength=\"${ifNonEmpty(this.maxCount)}\"\n          @input=\"${this._handleInput}\"></textarea>\n        <slot name=\"slug\" @slotchange=\"${this._handleSlotChange}\"></slot>\n      </div>\n      <div class=\"${helperTextClasses}\" ?hidden=\"${this.invalid || this.warn}\">\n        <slot name=\"helper-text\"> ${this.helperText} </slot>\n      </div>\n      <div\n        class=\"${prefix}--form-requirement\"\n        ?hidden=\"${!this.invalid && !this.warn}\">\n        <slot name=\"${this.invalid ? 'invalid-text' : 'warn-text'}\">\n          ${this.invalid ? this.invalidText : this.warnText}\n        </slot>\n      </div>\n    `;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSTextarea;\n"],"mappings":"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"}