{"version":3,"file":"actionable-notification.js","names":["CheckmarkFilled20","ErrorFilled20","InformationFilled20","InformationSquareFilled20","WarningFilled20","WarningAltFilled20","html","svg","property","customElement","prefix","NOTIFICATION_TYPE","NOTIFICATION_KIND","CDSInlineNotification","styles","HostListener","HostListenerMixin","iconsForKinds","SUCCESS","INFO","INFO_SQUARE","WARNING","WARNING_ALT","ERROR","CDSActionableNotification","_decorate","_initialize","_HostListenerMixin","constructor","args","F","d","kind","key","value","ACTIONABLE","decorators","type","Boolean","reflect","String","attribute","event","closeOnEscape","open","connectedCallback","hasAttribute","setAttribute","_get","_getPrototypeOf","prototype","call","_renderIcon","statusIconDescription","inline","icon","undefined","class","children","_t","_","_renderText","subtitle","title","_type","_t2","updated","changedProperties","button","querySelector","selectorActionButton","has","lowContrast","removeAttribute","hideCloseButton","hasFocus","focus","render","_t3","_renderButton","static"],"sources":["components/notification/actionable-notification.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport CheckmarkFilled20 from '@carbon/icons/lib/checkmark--filled/20';\nimport ErrorFilled20 from '@carbon/icons/lib/error--filled/20';\nimport InformationFilled20 from '@carbon/icons/lib/information--filled/20';\nimport InformationSquareFilled20 from '@carbon/icons/lib/information--square--filled/20';\nimport WarningFilled20 from '@carbon/icons/lib/warning--filled/20';\nimport WarningAltFilled20 from '@carbon/icons/lib/warning--alt--filled/20';\nimport { html, svg } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport { NOTIFICATION_TYPE, NOTIFICATION_KIND } from './defs';\nimport CDSInlineNotification from './inline-notification';\nimport styles from './actionable-notification.scss';\nimport HostListener from '../../globals/decorators/host-listener';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\n\n/**\n * The default icons, keyed by notification kind.\n */\nconst iconsForKinds = {\n  [NOTIFICATION_KIND.SUCCESS]: CheckmarkFilled20,\n  [NOTIFICATION_KIND.INFO]: InformationFilled20,\n  [NOTIFICATION_KIND.INFO_SQUARE]: InformationSquareFilled20,\n  [NOTIFICATION_KIND.WARNING]: WarningFilled20,\n  [NOTIFICATION_KIND.WARNING_ALT]: WarningAltFilled20,\n  [NOTIFICATION_KIND.ERROR]: ErrorFilled20,\n};\n\n/**\n * Actionable notification.\n *\n * @element cds-actionable-notification\n * @slot subtitle - The subtitle.\n * @slot title - The title.\n * @fires cds-notification-beingclosed\n *   The custom event fired before this notification is being closed upon a user gesture.\n *   Cancellation of this event stops the user-initiated action of closing this notification.\n * @fires cds-notification-closed - The custom event fired after this notification is closed upon a user gesture.\n */\n@customElement(`${prefix}-actionable-notification`)\nclass CDSActionableNotification extends HostListenerMixin(\n  CDSInlineNotification\n) {\n  protected _type = NOTIFICATION_TYPE.ACTIONABLE;\n\n  /**\n   * Inline notification type.\n   */\n  @property({ type: Boolean, reflect: true })\n  inline = false;\n\n  /**\n   * Pass in the action button label that will be rendered within the ActionableNotification.\n   */\n  @property({ type: String, reflect: true, attribute: 'action-button-label' })\n  actionButtonLabel = '';\n\n  /**\n   * Specify if pressing the escape key should close notifications\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'close-on-escape' })\n  closeOnEscape = true;\n\n  /**\n   * Specify if focus should be moved to the component when the notification contains actions\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'has-focus' })\n  hasFocus = true;\n\n  /**\n   * Handles `keydown` event on this event.\n   * Escape will close the notification if `closeOnEscape` is true\n   */\n  @HostListener('keydown')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleKeyDown = async (event: KeyboardEvent) => {\n    const { key } = event;\n    if (this.closeOnEscape && key === 'Escape') {\n      this.open = false;\n    }\n  };\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'alertdialog');\n    }\n    super.connectedCallback();\n  }\n\n  protected _renderIcon() {\n    const { statusIconDescription, kind, inline } = this;\n    const { [kind]: icon } = iconsForKinds;\n    return !icon\n      ? undefined\n      : icon({\n          class: `${prefix}--${inline ? 'inline' : 'toast'}-notification__icon`,\n          children: !statusIconDescription\n            ? undefined\n            : svg`<title>${statusIconDescription}</title>`,\n        });\n  }\n\n  protected _renderText() {\n    const { subtitle, title, _type: type } = this;\n    return html`\n      <div class=\"${prefix}--${type}-notification__text-wrapper\">\n        <div class=\"${prefix}--${type}-notification__content\">\n          <div class=\"${prefix}--${type}-notification__title\">\n            ${title}<slot name=\"title\"></slot>\n          </div>\n          <div class=\"${prefix}--${type}-notification__subtitle\">\n            ${subtitle}<slot name=\"subtitle\"></slot>\n          </div>\n          <slot></slot>\n        </div>\n      </div>\n    `;\n  }\n\n  /**\n   * The caption.\n   */\n  @property()\n  caption = '';\n\n  updated(changedProperties) {\n    super.updated(changedProperties);\n    const button = this.querySelector(\n      (this.constructor as typeof CDSActionableNotification)\n        .selectorActionButton\n    );\n    if (changedProperties.has('inline')) {\n      button?.setAttribute('kind', this.inline ? 'ghost' : 'tertiary');\n    }\n    if (changedProperties.has('lowContrast')) {\n      if (this.lowContrast) {\n        button?.setAttribute('low-contrast', 'true');\n      } else {\n        button?.removeAttribute('low-contrast');\n      }\n    }\n    if (changedProperties.has('hideCloseButton')) {\n      if (this.hideCloseButton) {\n        button?.setAttribute('hide-close-button', 'true');\n      } else {\n        button?.removeAttribute('hide-close-button');\n      }\n    }\n    if (changedProperties.has('hasFocus')) {\n      if (this.hasFocus) {\n        this.focus();\n      }\n    }\n  }\n\n  render() {\n    const { _type: type } = this;\n    return html`\n      <div class=\"${prefix}--${type}-notification__details\">\n        ${this._renderIcon()} ${this._renderText()}\n      </div>\n      <slot name=\"action\"></slot>\n      ${this._renderButton()}\n    `;\n  }\n\n  /**\n   * A selector that will return the action button element\n   */\n  static get selectorActionButton() {\n    return `${prefix}-actionable-notification-button`;\n  }\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSActionableNotification;\n"],"mappings":"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"}