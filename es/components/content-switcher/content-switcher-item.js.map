{"version":3,"file":"content-switcher-item.js","names":["classMap","ifDefined","LitElement","html","property","prefix","FocusMixin","styles","carbonElement","customElement","CDSContentSwitcherItem","_decorate","_initialize","_FocusMixin","constructor","args","F","d","kind","decorators","type","Boolean","reflect","key","value","attribute","String","updated","changedProperties","_this$shadowRoot","shadowRoot","querySelector","classList","add","_renderTooltipContent","_t","_","shouldUpdate","has","selected","target","doc","getRootNode","targetNode","getElementById","toggleAttribute","render","disabled","className","switcherItem","_t2","icon","align","closeOnActivation","enterDelayMs","leaveDelayMs","_t3","static","_objectSpread","shadowRootOptions","delegatesFocus","default"],"sources":["components/content-switcher/content-switcher-item.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { LitElement, html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport FocusMixin from '../../globals/mixins/focus';\nimport styles from './content-switcher.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Content switcher button.\n *\n * @element cds-content-switcher-item\n */\n@customElement(`${prefix}-content-switcher-item`)\nexport default class CDSContentSwitcherItem extends FocusMixin(LitElement) {\n  /**\n   * `true` if this content switcher item should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * `true` to hide the divider at the left.\n   *\n   * @private\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'hide-divider' })\n  hideDivider = false;\n\n  /**\n   * `true` if the content switcher button should be selected.\n   *\n   * @private\n   */\n  @property({ type: Boolean, reflect: true })\n  selected = false;\n\n  /**\n   * The element ID of target panel.\n   */\n  @property()\n  target!: string;\n\n  /**\n   * The `value` attribute that is set to the parent `<cds-content-switcher>`\n   * when this content switcher item is selected.\n   */\n  @property()\n  value = '';\n\n  /**\n   * `true` if the content switcher button should be icon-only.\n   */\n  @property({ type: Boolean, reflect: true })\n  icon = false;\n\n  /**\n   * Specify how the trigger should align with the tooltip for icon-only\n   * switcher item\n   */\n  @property({ reflect: true, type: String })\n  align = 'top';\n\n  /**\n   * Determines whether the tooltip should close when inner content is\n   * activated (click, Enter or Space)\n   */\n  @property({ attribute: 'close-on-activation', reflect: true, type: Boolean })\n  closeOnActivation = true;\n\n  /**\n   * Specify the duration in milliseconds to delay before displaying the\n   * tooltip for icon-only switcher item\n   */\n  enterDelayMs = 100;\n\n  /**\n   * Specify the duration in milliseconds to delay before hiding the tooltip\n   * for icon-only switcher-item\n   *\n   * TODO: match upstream value once #10471 is resolved\n   */\n  leaveDelayMs = 100;\n\n  updated(changedProperties) {\n    if (changedProperties) {\n      this.shadowRoot\n        ?.querySelector(`${prefix}-tooltip`)\n        ?.shadowRoot?.querySelector(`.${prefix}--tooltip`)\n        ?.classList.add(`${prefix}--icon-tooltip`);\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  protected _renderTooltipContent() {\n    return html`\n      <cds-tooltip-content>\n        <slot name=\"tooltip-content\"></slot>\n      </cds-tooltip-content>\n    `;\n  }\n\n  shouldUpdate(changedProperties) {\n    if (changedProperties.has('selected') || changedProperties.has('target')) {\n      const { selected, target } = this;\n      if (target) {\n        const doc = this.getRootNode() as HTMLDocument;\n        // `doc` can be an element if such element is orphaned\n        const targetNode = doc?.getElementById(target);\n        targetNode?.toggleAttribute('hidden', !selected);\n      }\n    }\n    return true;\n  }\n\n  render() {\n    const { disabled, selected, target } = this;\n    const className = classMap({\n      [`${prefix}--content-switcher-btn`]: true,\n      [`${prefix}--content-switcher--selected`]: selected,\n    });\n    const switcherItem = html`<button\n      type=\"button\"\n      role=\"tab\"\n      class=\"${className}\"\n      ?disabled=\"${disabled}\"\n      tabindex=\"${selected ? '0' : '-1'}\"\n      aria-controls=\"${ifDefined(target)}\"\n      aria-selected=\"${Boolean(selected)}\">\n      <span class=\"${prefix}--content-switcher__label\"><slot></slot></span>\n    </button>`;\n\n    if (this.icon) {\n      const { align, closeOnActivation, enterDelayMs, leaveDelayMs } = this;\n      return html`<cds-tooltip\n        align=${align}\n        close-on-activation=\"${closeOnActivation}\"\n        enter-delay-ms=${enterDelayMs}\n        leave-delay-ms=${leaveDelayMs}>\n        ${switcherItem} ${this._renderTooltipContent()}\n      </cds-tooltip>`;\n    }\n    return switcherItem;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles;\n}\n"],"mappings":"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"}