{"version":3,"file":"structured-list.js","names":["classMap","LitElement","html","property","prefix","forEach","FocusMixin","styles","carbonElement","customElement","CDSStructuredList","_decorate","_initialize","_FocusMixin","constructor","args","F","d","kind","decorators","attribute","key","value","type","Boolean","reflect","connectedCallback","hasAttribute","setAttribute","_get","_getPrototypeOf","prototype","call","shouldUpdate","changedProperties","has","querySelectorAll","selectorRowsWithHeader","elem","selectionName","updated","attributes","attr","removeAttribute","render","condensed","flush","classes","_t","_","static","_objectSpread","shadowRootOptions","delegatesFocus"],"sources":["components/structured-list/structured-list.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { LitElement, html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport { forEach } from '../../globals/internal/collection-helpers';\nimport FocusMixin from '../../globals/mixins/focus';\nimport CDSStructuredListRow from './structured-list-row';\nimport styles from './structured-list.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Structured list wrapper.\n *\n * @element cds-structured-list\n */\n@customElement(`${prefix}-structured-list`)\nclass CDSStructuredList extends FocusMixin(LitElement) {\n  /**\n   * The `name` attribute for the `<input>` for selection.\n   * If present, this structured list will be a selectable one.\n   */\n  @property({ attribute: 'selection-name' })\n  selectionName = '';\n\n  /**\n   * Specify if structured list is condensed, default is false\n   */\n  @property({ type: Boolean, reflect: true })\n  condensed = false;\n\n  /**\n   * Specify if structured list is flush, default is false\n   */\n  @property({ type: Boolean, reflect: true })\n  flush = false;\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'table');\n    }\n    super.connectedCallback();\n  }\n\n  shouldUpdate(changedProperties) {\n    if (changedProperties.has('selectionName')) {\n      // Propagate `selectionName` attribute to descendants until `:host-context()` gets supported in all major browsers\n      forEach(\n        this.querySelectorAll(\n          (this.constructor as typeof CDSStructuredList).selectorRowsWithHeader\n        ),\n        (elem) => {\n          (elem as CDSStructuredListRow).selectionName = this.selectionName;\n        }\n      );\n    }\n    return true;\n  }\n\n  updated(changedProperties) {\n    const attributes = ['condensed', 'flush'];\n    attributes.forEach((attr) => {\n      if (changedProperties.has(attr)) {\n        // Propagate watched attribute to descendants until `:host-context()` gets supported in all major browsers\n        forEach(\n          this.querySelectorAll(\n            (this.constructor as typeof CDSStructuredList)\n              .selectorRowsWithHeader\n          ),\n          (elem) => {\n            this[`${attr}`]\n              ? elem.setAttribute(attr, '')\n              : elem.removeAttribute(attr);\n          }\n        );\n      }\n    });\n  }\n\n  render() {\n    const { condensed, flush, selectionName } = this;\n    const classes = classMap({\n      [`${prefix}--structured-list`]: true,\n      [`${prefix}--structured-list--selection`]: Boolean(selectionName),\n      [`${prefix}--structured-list--condensed`]: condensed,\n      [`${prefix}--structured-list--flush`]: flush,\n    });\n    return html`\n      <section id=\"section\" class=${classes}><slot></slot></section>\n    `;\n  }\n\n  /**\n   * The CSS selector to find the rows, including header rows.\n   */\n  static selectorRowsWithHeader = `${prefix}-structured-list-row,${prefix}-structured-list-header-row`;\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles;\n}\n\nexport default CDSStructuredList;\n"],"mappings":"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"}