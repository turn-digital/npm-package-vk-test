{"version":3,"file":"link.js","names":["classMap","ifDefined","LitElement","html","property","query","prefix","FocusMixin","styles","carbonElement","customElement","LINK_SIZE","MEDIUM","SMALL","LARGE","CDSLink","_decorate","_initialize","_FocusMixin","constructor","args","F","d","kind","key","value","_handleSlotChange","target","name","hasContent","assignedNodes","some","node","nodeType","Node","TEXT_NODE","textContent","trim","requestUpdate","decorators","_classes","disabled","size","inline","visited","_hasIcon","_handleClick","_","_renderInner","hasIcon","handleSlotChange","_t","_2","_renderDisabledLink","classes","_t2","_renderLink","download","href","hreflang","linkRole","ping","rel","type","handleClick","_t3","Boolean","reflect","attribute","render","static","_objectSpread","shadowRootOptions","delegatesFocus"],"sources":["components/link/link.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport FocusMixin from '../../globals/mixins/focus';\nimport styles from './link.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Link size.\n */\nexport const LINK_SIZE = {\n  MEDIUM: '',\n  SMALL: 'sm',\n  LARGE: 'lg',\n};\n\n// Convert object key in a type\ntype LINK_SIZE_TYPE = (typeof LINK_SIZE)[keyof typeof LINK_SIZE];\n\n/**\n * Link.\n *\n * @element cds-link\n * @csspart link The link.\n */\n@customElement(`${prefix}-link`)\nclass CDSLink extends FocusMixin(LitElement) {\n  /**\n   * `true` if there is an icon.\n   */\n  private _hasIcon = false;\n\n  /**\n   * Handles `slotchange` event.\n   */\n  protected _handleSlotChange({ target }: Event) {\n    const { name } = target as HTMLSlotElement;\n    const hasContent = (target as HTMLSlotElement)\n      .assignedNodes()\n      .some(\n        (node) => node.nodeType !== Node.TEXT_NODE || node!.textContent!.trim()\n      );\n    this[name === 'icon' ? '_hasIcon' : ''] = hasContent;\n    this.requestUpdate();\n  }\n\n  @query('#link')\n  protected _linkNode?: HTMLAnchorElement | HTMLParagraphElement;\n\n  /**\n   * The CSS class list for the link node.\n   */\n  protected get _classes() {\n    const { disabled, size, inline, visited, _hasIcon } = this;\n    return classMap({\n      [`${prefix}--link`]: true,\n      [`${prefix}--link--disabled`]: disabled,\n      [`${prefix}--link--icon`]: _hasIcon,\n      [`${prefix}--link--inline`]: inline,\n      [`${prefix}--link--${size}`]: size,\n      [`${prefix}--link--visited`]: visited,\n    });\n  }\n\n  /**\n   * Handles `click` event on the `<a>`.\n   */\n  // eslint-disable-next-line class-methods-use-this, @typescript-eslint/no-unused-vars\n  protected _handleClick(_: MouseEvent) {}\n\n  /**\n   * @returns The inner content.\n   */\n  // eslint-disable-next-line class-methods-use-this\n  protected _renderInner() {\n    const { _hasIcon: hasIcon, _handleSlotChange: handleSlotChange } = this;\n    return html`\n      <slot @slotchange=\"${handleSlotChange}\"></slot>\n      <div ?hidden=\"${!hasIcon}\" class=\"${prefix}--link__icon\">\n        <slot name=\"icon\" @slotchange=\"${handleSlotChange}\"></slot>\n      </div>\n    `;\n  }\n\n  /**\n   * @returns The disabled link content.\n   */\n  protected _renderDisabledLink() {\n    const { _classes: classes } = this;\n    return html`\n      <p id=\"link\" part=\"link\" class=\"${classes}\">${this._renderInner()}</p>\n    `;\n  }\n\n  /**\n   * @returns The link content.\n   */\n  protected _renderLink() {\n    const {\n      download,\n      href,\n      hreflang,\n      linkRole,\n      ping,\n      rel,\n      target,\n      type,\n      _classes: classes,\n      _handleClick: handleClick,\n    } = this;\n    return html`\n      <a\n        tabindex=\"0\"\n        id=\"link\"\n        role=\"${ifDefined(linkRole)}\"\n        class=\"${classes}\"\n        part=\"link\"\n        download=\"${ifDefined(download)}\"\n        href=\"${ifDefined(href)}\"\n        hreflang=\"${ifDefined(hreflang)}\"\n        ping=\"${ifDefined(ping)}\"\n        rel=\"${ifDefined(rel)}\"\n        target=\"${ifDefined(target)}\"\n        type=\"${ifDefined(type)}\"\n        @click=\"${handleClick}\">\n        ${this._renderInner()}\n      </a>\n    `;\n  }\n\n  /**\n   * `true` if the link should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * The default file name.\n   */\n  @property({ reflect: true })\n  download!: string;\n\n  /**\n   * Link `href`.\n   */\n  @property({ reflect: true })\n  href!: string;\n\n  /**\n   * The language of what `href` points to.\n   */\n  @property({ reflect: true })\n  hreflang!: string;\n\n  /**\n   * `true` if the link should be inline.\n   */\n  @property({ type: Boolean, reflect: true })\n  inline = false;\n\n  /**\n   * The a11y role for `<a>`.\n   */\n  @property({ attribute: 'link-role' })\n  linkRole!: string;\n\n  /**\n   * URLs to ping.\n   */\n  @property({ reflect: true })\n  ping!: string;\n\n  /**\n   * The link type.\n   */\n  @property({ reflect: true })\n  rel!: string;\n\n  /**\n   * Link size.\n   */\n  @property({ reflect: true })\n  size: LINK_SIZE_TYPE = LINK_SIZE.MEDIUM;\n\n  /**\n   * The link target.\n   */\n  @property({ reflect: true })\n  target!: string;\n\n  /**\n   * MIME type of the `target`.\n   */\n  @property({ reflect: true })\n  type!: string;\n\n  /**\n   * `true` if the link has been visited.\n   */\n  @property({ type: Boolean, reflect: true })\n  visited = false;\n\n  render() {\n    const { disabled } = this;\n    return disabled ? this._renderDisabledLink() : this._renderLink();\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSLink;\n"],"mappings":"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"}