{"version":3,"file":"dropdown.js","names":["classMap","ifDefined","LitElement","html","property","query","prefix","ChevronDown16","WarningFilled16","WarningAltFilled16","FocusMixin","FormMixin","HostListenerMixin","ValidityMixin","HostListener","find","forEach","indexOf","DROPDOWN_DIRECTION","DROPDOWN_KEYBOARD_ACTION","DROPDOWN_SIZE","DROPDOWN_TYPE","NAVIGATION_DIRECTION","styles","carbonElement","customElement","CDSDropdown","_decorate","_initialize","_ValidityMixin","constructor","args","F","d","kind","key","value","decorators","_selectionShouldChange","itemToSelect","_selectionDidChange","querySelectorAll","selectorItemSelected","item","selected","_assistiveStatusText","selectedItemAssistiveText","_handleUserInitiatedToggle","_handleClickInner","event","readOnly","shadowRoot","contains","target","closest","selectorItem","_handleUserInitiatedSelectItem","_handleKeydownInner","action","getAction","open","NAVIGATING","_clearHighlight","CLOSING","_navigate","_handleKeypressInner","TRIGGERING","highlightedItem","querySelector","selectorItemHighlighted","_handleFocusOut","relatedTarget","_handleSlotchangeHelperText","requestUpdate","_handleSlotchangeLabelText","_handleSlugSlotChange","hasContent","assignedNodes","filter","elem","matches","undefined","slugItem","_hasSlug","Boolean","setAttribute","hasAttribute","init","bubbles","composed","detail","beforeSelectEvent","CustomEvent","eventBeforeSelect","_objectSpread","cancelable","dispatchEvent","afterSelectEvent","eventSelect","force","eventBeforeToggle","eventToggle","disabled","selectingItemsAssistiveText","label","assistiveStatusText","_selectedItemContent","selectedItemContent","selectedItemText","textContent","highlighted","direction","_items$nextIndex","items","highlightedIndex","nextIndex","length","i","nextItem","scrollIntoView","block","nextItemText","_renderPrecedingLabel","_renderLabel","_t","_","_renderTitleLabel","hideLabel","titleText","_slotTitleTextNode","slotTitleTextNode","handleSlotchangeLabelText","labelClasses","hasTitleText","_t2","_renderFollowingLabel","_handleFormdata","formData","name","append","type","String","reflect","attribute","BOTTOM","MEDIUM","DEFAULT","shouldUpdate","changedProperties","has","size","removeAttribute","range","ownerDocument","createRange","selectNodeContents","cloneContents","updated","_changedProperties","_this$shadowRoot","_this$querySelector","classList","toggle","_classes","invalid","warn","inline","INLINE","selectedItemsCount","render","ariaLabel","classes","helperText","invalidText","toggleLabelClosed","toggleLabelOpen","warnText","_shouldTriggerBeFocusable","shouldTriggerBeFocusable","handleClickInner","handleKeydownInner","handleKeypressInner","handleSlotchangeHelperText","handleSlugSlotChange","_slotHelperTextNode","slotHelperTextNode","helperClasses","iconContainerClasses","toggleLabel","hasHelperText","validityIcon","class","warningIcon","helperMessage","menuBody","_t3","_t4","static","Set","shadowRootOptions","delegatesFocus","TRIGGER_KEYS","NONE"],"sources":["components/dropdown/dropdown.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2024\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { LitElement, html, TemplateResult } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { prefix } from '../../globals/settings';\nimport ChevronDown16 from '@carbon/icons/lib/chevron--down/16';\nimport WarningFilled16 from '@carbon/icons/lib/warning--filled/16';\nimport WarningAltFilled16 from '@carbon/icons/lib/warning--alt--filled/16';\nimport FocusMixin from '../../globals/mixins/focus';\nimport FormMixin from '../../globals/mixins/form';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\nimport ValidityMixin from '../../globals/mixins/validity';\nimport HostListener from '../../globals/decorators/host-listener';\nimport {\n  find,\n  forEach,\n  indexOf,\n} from '../../globals/internal/collection-helpers';\nimport {\n  DROPDOWN_DIRECTION,\n  DROPDOWN_KEYBOARD_ACTION,\n  DROPDOWN_SIZE,\n  DROPDOWN_TYPE,\n  NAVIGATION_DIRECTION,\n} from './defs';\nimport CDSDropdownItem from './dropdown-item';\nimport styles from './dropdown.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\nexport {\n  DROPDOWN_KEYBOARD_ACTION,\n  DROPDOWN_DIRECTION,\n  DROPDOWN_SIZE,\n  DROPDOWN_TYPE,\n  NAVIGATION_DIRECTION,\n};\n\n/**\n * Dropdown.\n *\n * @element cds-dropdown\n * @csspart label-text The label text.\n * @csspart helper-text The helper text.\n * @csspart trigger-button The trigger button.\n * @csspart menu-body The menu body.\n * @csspart validity-message The validity message.\n * @fires cds-dropdown-beingselected\n *   The custom event fired before a dropdown item is selected upon a user gesture.\n *   Cancellation of this event stops changing the user-initiated selection.\n * @fires cds-dropdown-beingtoggled\n *   The custom event fired before the open state of this dropdown is toggled upon a user gesture.\n *   Cancellation of this event stops the user-initiated toggling.\n * @fires cds-dropdown-selected - The custom event fired after a dropdown item is selected upon a user gesture.\n * @fires cds-dropdown-toggled - The custom event fired after the open state of this dropdown is toggled upon a user gesture.\n */\n@customElement(`${prefix}-dropdown`)\nclass CDSDropdown extends ValidityMixin(\n  HostListenerMixin(FormMixin(FocusMixin(LitElement)))\n) {\n  /**\n   * `true` if there is a slug.\n   */\n  protected _hasSlug = false;\n\n  /**\n   * The latest status of this dropdown, for screen reader to accounce.\n   */\n  protected _assistiveStatusText?: string;\n\n  /**\n   * The content of the selected item.\n   */\n  protected _selectedItemContent: DocumentFragment | null = null;\n\n  /**\n   * `true` if the trigger button should be focusable.\n   * Derived class can set `false` to this if the trigger button contains another primary focusable element (e.g. `<input>`).\n   */\n  protected _shouldTriggerBeFocusable = true;\n\n  /**\n   * The list box `<div>` node.\n   */\n  @query(`.${prefix}--list-box`)\n  protected _listBoxNode!: HTMLDivElement;\n\n  /**\n   * The `<slot>` element for the helper text in the shadow DOM.\n   */\n  @query('slot[name=\"helper-text\"]')\n  protected _slotHelperTextNode!: HTMLSlotElement;\n\n  /**\n   * The `<slot>` element for the title text in the shadow DOM.\n   */\n  @query('slot[name=\"title-text\"]')\n  protected _slotTitleTextNode!: HTMLSlotElement;\n\n  /**\n   * @param itemToSelect A dropdown item. Absense of this argument means clearing selection.\n   * @returns `true` if the selection of this dropdown should change if the given item is selected upon user interaction.\n   */\n  protected _selectionShouldChange(itemToSelect?: CDSDropdownItem) {\n    return !itemToSelect || itemToSelect.value !== this.value;\n  }\n\n  /**\n   * A callback that runs after change in dropdown selection upon user interaction is confirmed.\n   *\n   * @param itemToSelect\n   *   A dropdown item.\n   *   Absense of this argument means clearing selection, which may be handled by a derived class.\n   */\n  protected _selectionDidChange(itemToSelect?: CDSDropdownItem) {\n    if (itemToSelect) {\n      this.value = itemToSelect.value;\n      forEach(\n        this.querySelectorAll(\n          (this.constructor as typeof CDSDropdown).selectorItemSelected\n        ),\n        (item) => {\n          (item as CDSDropdownItem).selected = false;\n        }\n      );\n      itemToSelect.selected = true;\n      this._assistiveStatusText = this.selectedItemAssistiveText;\n      this._handleUserInitiatedToggle(false);\n    }\n  }\n\n  /**\n   * Handles `click` event on the top-level element in the shadow DOM.\n   *\n   * @param event The event.\n   */\n  protected _handleClickInner(event: MouseEvent) {\n    if (this.readOnly) {\n      return;\n    }\n\n    if (this.shadowRoot!.contains(event.target as Node)) {\n      this._handleUserInitiatedToggle();\n    } else {\n      const item = (event.target as Element).closest(\n        (this.constructor as typeof CDSDropdown).selectorItem\n      ) as CDSDropdownItem;\n      if (this.contains(item)) {\n        this._handleUserInitiatedSelectItem(item);\n      }\n    }\n  }\n\n  /**\n   * Handler for the `keydown` event on the top-level element in the shadow DOM.\n   */\n  protected _handleKeydownInner(event: KeyboardEvent) {\n    const { key } = event;\n    const action = (this.constructor as typeof CDSDropdown).getAction(key);\n    if (!this.open) {\n      switch (action) {\n        case DROPDOWN_KEYBOARD_ACTION.NAVIGATING:\n          this._handleUserInitiatedToggle(true);\n          // If this menu gets open with an arrow key, reset the highlight\n          this._clearHighlight();\n          break;\n        default:\n          break;\n      }\n    } else {\n      switch (action) {\n        case DROPDOWN_KEYBOARD_ACTION.CLOSING:\n          this._handleUserInitiatedToggle(false);\n          break;\n        case DROPDOWN_KEYBOARD_ACTION.NAVIGATING:\n          this._navigate(NAVIGATION_DIRECTION[key]);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  /**\n   * Handler for the `keypress` event on the top-level element in the shadow DOM.\n   */\n  protected _handleKeypressInner(event: KeyboardEvent) {\n    const { key } = event;\n    const action = (this.constructor as typeof CDSDropdown).getAction(key);\n    if (!this.open) {\n      switch (action) {\n        case DROPDOWN_KEYBOARD_ACTION.TRIGGERING:\n          this._handleUserInitiatedToggle(true);\n          break;\n        default:\n          break;\n      }\n    } else {\n      switch (action) {\n        case DROPDOWN_KEYBOARD_ACTION.TRIGGERING:\n          {\n            const constructor = this.constructor as typeof CDSDropdown;\n            const highlightedItem = this.querySelector(\n              constructor.selectorItemHighlighted\n            ) as CDSDropdownItem;\n            if (highlightedItem) {\n              this._handleUserInitiatedSelectItem(highlightedItem);\n            } else {\n              this._handleUserInitiatedToggle(false);\n            }\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  /**\n   * Handles `blur` event handler on the document this element is in.\n   *\n   * @param event The event.\n   */\n  @HostListener('focusout')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  protected _handleFocusOut(event: FocusEvent) {\n    if (!this.contains(event.relatedTarget as Node)) {\n      this._handleUserInitiatedToggle(false);\n    }\n  }\n\n  /**\n   * Handles `slotchange` event for the `<slot>` for helper text.\n   */\n  protected _handleSlotchangeHelperText() {\n    this.requestUpdate();\n  }\n\n  /**\n   * Handles `slotchange` event for the `<slot>` for label text.\n   */\n  protected _handleSlotchangeLabelText() {\n    this.requestUpdate();\n  }\n\n  /**\n   * Handles `slotchange` event.\n   */\n  protected _handleSlugSlotChange({ target }: Event) {\n    const hasContent = (target as HTMLSlotElement)\n      .assignedNodes()\n      .filter((elem) =>\n        (elem as HTMLElement).matches !== undefined\n          ? (elem as HTMLElement).matches(\n              (this.constructor as typeof CDSDropdown).slugItem\n            )\n          : false\n      );\n\n    this._hasSlug = Boolean(hasContent);\n    (hasContent[0] as HTMLElement).setAttribute('size', 'mini');\n    this.requestUpdate();\n  }\n\n  /**\n   * Handles user-initiated selection of a dropdown item.\n   *\n   * @param [item] The dropdown item user wants to select. Absense of this argument means clearing selection.\n   */\n  protected _handleUserInitiatedSelectItem(item?: CDSDropdownItem) {\n    if (item?.hasAttribute('disabled')) {\n      return;\n    }\n\n    if (this._selectionShouldChange(item)) {\n      const init = {\n        bubbles: true,\n        composed: true,\n        detail: {\n          item,\n        },\n      };\n      const constructor = this.constructor as typeof CDSDropdown;\n      const beforeSelectEvent = new CustomEvent(constructor.eventBeforeSelect, {\n        ...init,\n        cancelable: true,\n      });\n      if (this.dispatchEvent(beforeSelectEvent)) {\n        this._selectionDidChange(item);\n        const afterSelectEvent = new CustomEvent(constructor.eventSelect, init);\n        this.dispatchEvent(afterSelectEvent);\n      }\n    }\n  }\n\n  /**\n   * Handles user-initiated toggling the open state.\n   *\n   * @param [force] If specified, forces the open state to the given one.\n   */\n  protected _handleUserInitiatedToggle(force = !this.open) {\n    const { eventBeforeToggle, eventToggle } = this\n      .constructor as typeof CDSDropdown;\n\n    const { disabled } = this;\n    const init = {\n      bubbles: true,\n      cancelable: true,\n      composed: true,\n      detail: {\n        open: force,\n      },\n    };\n    if (!disabled) {\n      if (this.dispatchEvent(new CustomEvent(eventBeforeToggle, init))) {\n        this.open = force;\n        if (this.open) {\n          this._assistiveStatusText = this.selectingItemsAssistiveText;\n        } else {\n          const {\n            selectedItemAssistiveText,\n            label,\n            _assistiveStatusText: assistiveStatusText,\n            _selectedItemContent: selectedItemContent,\n          } = this;\n          const selectedItemText =\n            (selectedItemContent && selectedItemContent.textContent) || label;\n          if (\n            selectedItemText &&\n            assistiveStatusText !== selectedItemAssistiveText\n          ) {\n            this._assistiveStatusText = selectedItemText;\n          }\n          forEach(\n            this.querySelectorAll(\n              (this.constructor as typeof CDSDropdown).selectorItemHighlighted\n            ),\n            (item) => {\n              (item as CDSDropdownItem).highlighted = false;\n            }\n          );\n        }\n        this.requestUpdate();\n        this.dispatchEvent(new CustomEvent(eventToggle, init));\n      }\n    }\n  }\n\n  /**\n   * Clears the selection of dropdown items.\n   */\n  protected _clearHighlight() {\n    forEach(\n      this.querySelectorAll(\n        (this.constructor as typeof CDSDropdown).selectorItem\n      ),\n      (item) => {\n        (item as CDSDropdownItem).highlighted = false;\n      }\n    );\n  }\n\n  /**\n   * Navigate through dropdown items.\n   *\n   * @param direction `-1` to navigate backward, `1` to navigate forward.\n   */\n  protected _navigate(direction: number) {\n    const constructor = this.constructor as typeof CDSDropdown;\n    const items = this.querySelectorAll(constructor.selectorItem);\n    const highlightedItem = this.querySelector(\n      constructor.selectorItemHighlighted\n    );\n    const highlightedIndex = indexOf(items, highlightedItem!);\n    let nextIndex = highlightedIndex + direction;\n\n    if (items[nextIndex]?.hasAttribute('disabled')) {\n      nextIndex += direction;\n    }\n    if (nextIndex < 0) {\n      nextIndex = items.length - 1;\n    }\n    if (nextIndex >= items.length) {\n      nextIndex = 0;\n    }\n    forEach(items, (item, i) => {\n      (item as CDSDropdownItem).highlighted = i === nextIndex;\n    });\n\n    const nextItem = items[nextIndex];\n    // Using `{ block: 'nearest' }` to prevent scrolling unless scrolling is absolutely necessary.\n    // `scrollIntoViewOptions` seems to work in latest Safari despite of MDN/caniuse table.\n    // IE falls back to the old behavior.\n    nextItem.scrollIntoView({ block: 'nearest' });\n\n    const nextItemText = nextItem.textContent;\n    if (nextItemText) {\n      this._assistiveStatusText = nextItemText;\n    }\n    this.requestUpdate();\n  }\n\n  /* eslint-disable class-methods-use-this */\n  /**\n   * @returns The content preceding the trigger button.\n   */\n  protected _renderPrecedingLabel(): TemplateResult | void {\n    return undefined;\n  }\n  /* eslint-enable class-methods-use-this */\n\n  /**\n   * @returns The main content of the trigger button.\n   */\n  protected _renderLabel(): TemplateResult {\n    const { label, _selectedItemContent: selectedItemContent } = this;\n    return html`\n      <span id=\"trigger-label\" class=\"${prefix}--list-box__label\"\n        >${selectedItemContent || label}</span\n      >\n    `;\n  }\n\n  /**\n   * @returns The title label.\n   */\n  protected _renderTitleLabel(): TemplateResult {\n    const {\n      disabled,\n      hideLabel,\n      titleText,\n      _slotTitleTextNode: slotTitleTextNode,\n      _handleSlotchangeLabelText: handleSlotchangeLabelText,\n    } = this;\n\n    const labelClasses = classMap({\n      [`${prefix}--label`]: true,\n      [`${prefix}--label--disabled`]: disabled,\n      [`${prefix}--visually-hidden`]: hideLabel,\n    });\n\n    const hasTitleText =\n      titleText ||\n      (slotTitleTextNode && slotTitleTextNode.assignedNodes().length > 0);\n\n    return html`\n      <label\n        part=\"title-text\"\n        class=\"${labelClasses}\"\n        ?hidden=\"${!hasTitleText}\">\n        <slot name=\"title-text\" @slotchange=\"${handleSlotchangeLabelText}\"\n          >${titleText}</slot\n        >\n      </label>\n    `;\n  }\n\n  /* eslint-disable class-methods-use-this */\n  /**\n   * @returns The content following the trigger button.\n   */\n  protected _renderFollowingLabel(): TemplateResult | void {\n    return undefined;\n  }\n  /* eslint-enable class-methods-use-this */\n\n  /**\n   * Handles event to include selected value on the parent form.\n   *\n   * @param event The event.\n   */\n  _handleFormdata(event: Event) {\n    const { formData } = event as any; // TODO: Wait for `FormDataEvent` being available in `lib.dom.d.ts`\n    const { disabled, name, value } = this;\n    if (!disabled) {\n      formData.append(name, value);\n    }\n  }\n\n  /**\n   * 'aria-label' of the ListBox component.\n   * Specify a label to be read by screen readers on the container node\n   */\n  @property({ type: String, reflect: true, attribute: 'aria-label' })\n  ariaLabel = '';\n\n  /**\n   * Specify the direction of the dropdown. Can be either top or bottom.\n   */\n  @property({ type: String, reflect: true })\n  direction = DROPDOWN_DIRECTION.BOTTOM;\n\n  /**\n   * `true` if this dropdown should be disabled.\n   */\n  @property({ type: Boolean, reflect: true })\n  disabled = false;\n\n  /**\n   * The helper text.\n   */\n  @property({ attribute: 'helper-text' })\n  helperText = '';\n\n  /**\n   * Specify whether the title text should be hidden or not\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'hide-label' })\n  hideLabel = false;\n\n  /**\n   * `true` to show the UI of the invalid state.\n   */\n  @property({ type: Boolean, reflect: true })\n  invalid = false;\n\n  /**\n   * Message which is displayed if the value is invalid.\n   */\n  @property({ attribute: 'invalid-text' })\n  invalidText = '';\n\n  /**\n   * Provide the title text that will be read by a screen reader when visiting this control\n   */\n  @property({ attribute: 'title-text' })\n  titleText = '';\n\n  /**\n   * Name for the dropdown in the `FormData`\n   */\n  @property()\n  name = '';\n\n  /**\n   * `true` if this dropdown should be open.\n   */\n  @property({ type: Boolean, reflect: true })\n  open = false;\n\n  /**\n   * Whether or not the Dropdown is readonly\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'read-only' })\n  readOnly = false;\n\n  /**\n   * `true` if the value is required.\n   */\n  @property({ type: Boolean, reflect: true })\n  required = false;\n\n  /**\n   * The special validity message for `required`.\n   */\n  @property({ attribute: 'required-validity-message' })\n  requiredValidityMessage = 'Please fill out this field.';\n\n  /**\n   * An assistive text for screen reader to announce, telling the open state.\n   */\n  @property({ attribute: 'selecting-items-assistive-text' })\n  selectingItemsAssistiveText =\n    'Selecting items. Use up and down arrow keys to navigate.';\n\n  /**\n   * An assistive text for screen reader to announce, telling that an item is selected.\n   */\n  @property({ attribute: 'selected-item-assistive-text' })\n  selectedItemAssistiveText = 'Selected an item.';\n\n  /**\n   * Dropdown size.\n   */\n  @property({ reflect: true })\n  size = DROPDOWN_SIZE.MEDIUM;\n\n  /**\n   * The `aria-label` attribute for the UI indicating the closed state.\n   */\n  @property({ attribute: 'toggle-label-closed' })\n  toggleLabelClosed = '';\n\n  /**\n   * The `aria-label` attribute for the UI indicating the open state.\n   */\n  @property({ attribute: 'toggle-label-open' })\n  toggleLabelOpen = '';\n\n  /**\n   * Generic label that will be used as the textual representation of what this field is for\n   */\n  @property({ attribute: 'label' })\n  label = '';\n\n  /**\n   * `true` if this dropdown should use the inline UI variant.\n   */\n  @property({ reflect: true })\n  type = DROPDOWN_TYPE.DEFAULT;\n\n  /**\n   * The validity message.\n   */\n  @property({ attribute: 'validity-message' })\n  validityMessage = '';\n\n  /**\n   * The value of the selected item.\n   */\n  @property({ reflect: true })\n  value = '';\n\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  @property({ type: Boolean, reflect: true })\n  warn = false;\n\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  @property({ attribute: 'warn-text' })\n  warnText = '';\n\n  shouldUpdate(changedProperties) {\n    const { selectorItem } = this.constructor as typeof CDSDropdown;\n    if (changedProperties.has('size')) {\n      forEach(this.querySelectorAll(selectorItem), (elem) => {\n        (elem as CDSDropdownItem).size = this.size;\n      });\n    }\n    if (changedProperties.has('disabled') && this.disabled) {\n      const { disabled } = this;\n      // Propagate `disabled` attribute to descendants until `:host-context()` gets supported in all major browsers\n      forEach(this.querySelectorAll(selectorItem), (elem) => {\n        if (disabled) {\n          (elem as CDSDropdownItem).disabled = disabled;\n        } else {\n          (elem as CDSDropdownItem).removeAttribute('disabled');\n        }\n      });\n    }\n    if (changedProperties.has('value')) {\n      // `<cds-multi-select>` updates selection beforehand\n      // because our rendering logic for `<cds-multi-select>` looks for selected items via `qSA()`\n      forEach(this.querySelectorAll(selectorItem), (elem) => {\n        (elem as CDSDropdownItem).selected =\n          (elem as CDSDropdownItem).value === this.value;\n      });\n      const item = find(\n        this.querySelectorAll(selectorItem),\n        (elem) => (elem as CDSDropdownItem).value === this.value\n      );\n      if (item) {\n        const range = this.ownerDocument!.createRange();\n        range.selectNodeContents(item);\n        this._selectedItemContent = range.cloneContents();\n      } else {\n        this._selectedItemContent = null;\n      }\n    }\n    return true;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  updated(_changedProperties) {\n    this._hasSlug\n      ? this.setAttribute('slug', '')\n      : this.removeAttribute('slug');\n\n    this.shadowRoot\n      ?.querySelector(\"slot[name='slug']\")\n      ?.classList.toggle(\n        `${prefix}--slug--revert`,\n        this.querySelector(`${prefix}-slug`)?.hasAttribute('revert-active')\n      );\n  }\n\n  /**\n   * The CSS class list for dropdown listbox\n   */\n  protected get _classes() {\n    const { disabled, size, type, invalid, open, warn } = this;\n    const inline = type === DROPDOWN_TYPE.INLINE;\n\n    const selectedItemsCount = this.querySelectorAll(\n      (this.constructor as typeof CDSDropdown).selectorItemSelected\n    ).length;\n\n    return classMap({\n      [`${prefix}--dropdown`]: true,\n      [`${prefix}--list-box`]: true,\n      [`${prefix}--list-box--disabled`]: disabled,\n      [`${prefix}--list-box--inline`]: inline,\n      [`${prefix}--list-box--expanded`]: open,\n      [`${prefix}--list-box--${size}`]: size,\n      [`${prefix}--dropdown--invalid`]: invalid,\n      [`${prefix}--dropdown--warn`]: warn,\n      [`${prefix}--dropdown--inline`]: inline,\n      [`${prefix}--dropdown--selected`]: selectedItemsCount > 0,\n    });\n  }\n\n  render() {\n    const {\n      ariaLabel,\n      _classes: classes,\n      disabled,\n      helperText,\n      invalid,\n      invalidText,\n      open,\n      toggleLabelClosed,\n      toggleLabelOpen,\n      type,\n      warn,\n      warnText,\n      _assistiveStatusText: assistiveStatusText,\n      _shouldTriggerBeFocusable: shouldTriggerBeFocusable,\n      _handleClickInner: handleClickInner,\n      _handleKeydownInner: handleKeydownInner,\n      _handleKeypressInner: handleKeypressInner,\n      _handleSlotchangeHelperText: handleSlotchangeHelperText,\n      _handleSlugSlotChange: handleSlugSlotChange,\n      _slotHelperTextNode: slotHelperTextNode,\n    } = this;\n    const inline = type === DROPDOWN_TYPE.INLINE;\n\n    const helperClasses = classMap({\n      [`${prefix}--form__helper-text`]: true,\n      [`${prefix}--form__helper-text--disabled`]: disabled,\n    });\n    const iconContainerClasses = classMap({\n      [`${prefix}--list-box__menu-icon`]: true,\n      [`${prefix}--list-box__menu-icon--open`]: open,\n    });\n    const toggleLabel =\n      (open ? toggleLabelOpen : toggleLabelClosed) || undefined;\n    const hasHelperText =\n      helperText ||\n      (slotHelperTextNode && slotHelperTextNode.assignedNodes().length > 0);\n    const validityIcon = !invalid\n      ? undefined\n      : WarningFilled16({\n          class: `${prefix}--list-box__invalid-icon`,\n          'aria-label': toggleLabel,\n        });\n    const warningIcon =\n      !warn || (invalid && warn)\n        ? undefined\n        : WarningAltFilled16({\n            class: `${prefix}--list-box__invalid-icon ${prefix}--list-box__invalid-icon--warning`,\n            'aria-label': toggleLabel,\n          });\n    const helperMessage = invalid ? invalidText : warn ? warnText : helperText;\n    const menuBody = !open\n      ? undefined\n      : html`\n          <div\n            aria-label=\"${ariaLabel}\"\n            id=\"menu-body\"\n            part=\"menu-body\"\n            class=\"${prefix}--list-box__menu\"\n            role=\"listbox\"\n            tabindex=\"-1\">\n            <slot></slot>\n          </div>\n        `;\n    return html`\n      ${this._renderTitleLabel()}\n      <div\n        role=\"listbox\"\n        class=\"${classes}\"\n        ?data-invalid=${invalid}\n        @click=${handleClickInner}\n        @keydown=${handleKeydownInner}\n        @keypress=${handleKeypressInner}>\n        <div\n          part=\"trigger-button\"\n          role=\"${ifDefined(!shouldTriggerBeFocusable ? undefined : 'button')}\"\n          class=\"${prefix}--list-box__field\"\n          tabindex=\"${ifDefined(!shouldTriggerBeFocusable ? undefined : '0')}\"\n          aria-labelledby=\"trigger-label\"\n          aria-expanded=\"${String(open)}\"\n          aria-haspopup=\"listbox\"\n          aria-owns=\"menu-body\"\n          aria-controls=\"menu-body\">\n          ${this._renderPrecedingLabel()}${this._renderLabel()}${validityIcon}${warningIcon}${this._renderFollowingLabel()}\n          <div id=\"trigger-caret\" class=\"${iconContainerClasses}\">\n            ${ChevronDown16({ 'aria-label': toggleLabel })}\n          </div>\n        </div>\n        <slot name=\"slug\" @slotchange=${handleSlugSlotChange}></slot>\n        ${menuBody}\n      </div>\n      <div\n        part=\"helper-text\"\n        class=\"${helperClasses}\"\n        ?hidden=\"${(inline && !warn && !invalid) || !hasHelperText}\">\n        <slot name=\"helper-text\" @slotchange=\"${handleSlotchangeHelperText}\"\n          >${helperMessage}</slot\n        >\n      </div>\n      <div\n        class=\"${prefix}--assistive-text\"\n        role=\"status\"\n        aria-live=\"assertive\"\n        aria-relevant=\"additions text\">\n        ${assistiveStatusText}\n      </div>\n    `;\n  }\n\n  /**\n   * Symbols of keys that triggers opening/closing menu and selecting/deselecting menu item.\n   */\n  static TRIGGER_KEYS = new Set([' ', 'Enter']);\n\n  /**\n   * A selector that will return highlighted items.\n   */\n  static get selectorItemHighlighted() {\n    return `${prefix}-dropdown-item[highlighted]`;\n  }\n\n  /**\n   * A selector that will return dropdown items.\n   */\n  static get selectorItem() {\n    return `${prefix}-dropdown-item`;\n  }\n\n  /**\n   * A selector that will return selected items.\n   */\n  static get selectorItemSelected() {\n    return `${prefix}-dropdown-item[selected]`;\n  }\n\n  /**\n   * The name of the custom event fired before a dropdown item is selected upon a user gesture.\n   * Cancellation of this event stops changing the user-initiated selection.\n   */\n  static get eventBeforeSelect() {\n    return `${prefix}-dropdown-beingselected`;\n  }\n\n  /**\n   * The name of the custom event fired after a a dropdown item is selected upon a user gesture.\n   */\n  static get eventSelect() {\n    return `${prefix}-dropdown-selected`;\n  }\n\n  /**\n   * The name of the custom event fired before this dropdown item is being toggled upon a user gesture.\n   * Cancellation of this event stops the user-initiated action of toggling this dropdown item.\n   */\n  static get eventBeforeToggle() {\n    return `${prefix}-dropdown-beingtoggled`;\n  }\n\n  /**\n   * The name of the custom event fired after this dropdown item is toggled upon a user gesture.\n   */\n  static get eventToggle() {\n    return `${prefix}-dropdown-toggled`;\n  }\n\n  /**\n   * A selector that will return the slug item.\n   */\n  static get slugItem() {\n    return `${prefix}-slug`;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles;\n\n  /**\n   * @returns A action for dropdown for the given key symbol.\n   */\n  static getAction(key: string) {\n    if (key === 'Escape') {\n      return DROPDOWN_KEYBOARD_ACTION.CLOSING;\n    }\n    if (key in NAVIGATION_DIRECTION) {\n      return DROPDOWN_KEYBOARD_ACTION.NAVIGATING;\n    }\n    if (this.TRIGGER_KEYS.has(key)) {\n      return DROPDOWN_KEYBOARD_ACTION.TRIGGERING;\n    }\n    return DROPDOWN_KEYBOARD_ACTION.NONE;\n  }\n}\n\nexport default CDSDropdown;\n"],"mappings":"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"}