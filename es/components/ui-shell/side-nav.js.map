{"version":3,"file":"side-nav.js","names":["LitElement","html","property","classMap","on","prefix","HostListenerMixin","HostListener","forEach","SIDE_NAV_COLLAPSE_MODE","SIDE_NAV_USAGE_MODE","styles","carbonElement","customElement","CDSSideNav","_decorate","_initialize","_HostListenerMixin","constructor","args","F","d","kind","key","value","Promise","resolve","_updateAndTransitionPromise","updateComplete","then","_transitionPromise","_cleanHTransition","_hTransition","release","decorators","event","expanded","detail","active","_this$querySelector","querySelector","selectorNavItems","focus","_updatedSideNavMenuForceCollapsedState","_hovered","hovered","querySelectorAll","selectorMenu","item","forceCollapsed","reflect","attribute","RESPONSIVE","type","Boolean","connectedCallback","hasAttribute","setAttribute","_get","_getPrototypeOf","prototype","call","disconnectedCallback","shouldUpdate","changedProperties","has","updated","doc","getRootNode","selectorButtonToggle","collapseMode","headerItems","selectorHeaderItems","removeAttribute","isNotChildOfHeader","_handleFocusOut","relatedTarget","FIXED","contains","_handleFocusIn","_handleNavMouseOver","RAIL","_handleNavMouseOut","_onOverlayClick","render","isNotPersistent","classes","overlayClasses","_t","_","_t2","static","eventButtonToggle"],"sources":["components/ui-shell/side-nav.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport on from '../../globals/mixins/on';\nimport { prefix } from '../../globals/settings';\nimport HostListenerMixin from '../../globals/mixins/host-listener';\nimport HostListener from '../../globals/decorators/host-listener';\nimport { forEach } from '../../globals/internal/collection-helpers';\nimport Handle from '../../globals/internal/handle';\nimport { SIDE_NAV_COLLAPSE_MODE, SIDE_NAV_USAGE_MODE } from './defs';\nimport CDSHeaderMenuButton from './header-menu-button';\nimport CDSSideNavMenu from './side-nav-menu';\nimport styles from './side-nav.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\nexport { SIDE_NAV_COLLAPSE_MODE, SIDE_NAV_USAGE_MODE };\n\n/**\n * Side nav.\n *\n * @element cds-side-nav\n * @fires cds-header-menu-button-toggled\n *   The name of the custom event fired after the header menu button in the document is toggled upon a user gesture.\n */\n@customElement(`${prefix}-side-nav`)\nclass CDSSideNav extends HostListenerMixin(LitElement) {\n  /**\n   * `true` if this side nav is hovered.\n   */\n  private _hovered = false;\n\n  /**\n   * The handle for `transitionend` event listener.\n   */\n  private _hTransition: Handle | null = null;\n\n  /**\n   * A promise that is resolved when the transition is complete.\n   */\n  private _transitionPromise = Promise.resolve();\n\n  /**\n   * A promise that is resolved when the transition upon proprety update is complete.\n   */\n  private get _updateAndTransitionPromise() {\n    return this.updateComplete.then(() => this._transitionPromise);\n  }\n\n  /**\n   * Cleans the handle for `transitionend` event listener.\n   */\n  private _cleanHTransition() {\n    if (this._hTransition) {\n      this._hTransition = this._hTransition.release();\n    }\n  }\n\n  /**\n   * Handles `${prefix}-header-menu-button-toggle` event on the document.\n   */\n  @HostListener('parentRoot:eventButtonToggle')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleButtonToggle = async (event: CustomEvent) => {\n    this.expanded = event.detail.active;\n    if (this.expanded) {\n      await this._updateAndTransitionPromise;\n      // Checks if the side nav is not collapsed during the animation\n      if (this.expanded) {\n        (\n          this.querySelector(\n            (this.constructor as typeof CDSSideNav).selectorNavItems\n          ) as HTMLElement\n        )?.focus();\n      }\n    }\n  };\n\n  /**\n   * Force child side nav menus collapsed upon the hover/expanded state of this side nav.\n   */\n  private _updatedSideNavMenuForceCollapsedState() {\n    const { expanded, _hovered: hovered } = this;\n    forEach(\n      this.querySelectorAll(\n        (this.constructor as typeof CDSSideNav).selectorMenu\n      ),\n      (item) => {\n        (item as CDSSideNavMenu).forceCollapsed = !expanded && !hovered;\n      }\n    );\n  }\n\n  /**\n   * Collapse mode of the side nav.\n   */\n  @property({ reflect: true, attribute: 'collapse-mode' })\n  collapseMode = SIDE_NAV_COLLAPSE_MODE.RESPONSIVE;\n\n  /**\n   * `true` to expand the side nav.\n   */\n  @property({ type: Boolean, reflect: true })\n  expanded = false;\n\n  /**\n   * If `true` will style the side nav to sit below the header\n   */\n  @property({\n    type: Boolean,\n    attribute: 'is-not-child-of-header',\n  })\n  isNotChildOfHeader = false;\n\n  /**\n   * Specify if the side-nav will be persistent above the lg breakpoint\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'is-not-persistent' })\n  isNotPersistent = false;\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'navigation');\n    }\n    super.connectedCallback();\n  }\n\n  disconnectedCallback() {\n    this._cleanHTransition();\n    super.disconnectedCallback();\n  }\n\n  shouldUpdate(changedProperties) {\n    if (changedProperties.has('expanded')) {\n      this._transitionPromise = new Promise((resolve) => {\n        this._cleanHTransition();\n        this._hTransition = on(this, 'transitionend', () => {\n          this._cleanHTransition();\n          resolve();\n        });\n      });\n    }\n    return true;\n  }\n\n  updated(changedProperties) {\n    const doc = this.getRootNode() as Document;\n    if (changedProperties.has('collapseMode')) {\n      forEach(\n        doc.querySelectorAll(\n          (this.constructor as typeof CDSSideNav).selectorButtonToggle\n        ),\n        (item) => {\n          (item as CDSHeaderMenuButton).collapseMode = this.collapseMode;\n        }\n      );\n    }\n    if (changedProperties.has('expanded')) {\n      const headerItems = doc.querySelectorAll(\n        (this.constructor as typeof CDSSideNav).selectorHeaderItems\n      );\n      forEach(\n        doc.querySelectorAll(\n          (this.constructor as typeof CDSSideNav).selectorButtonToggle\n        ),\n        (item) => {\n          (item as CDSHeaderMenuButton).active = this.expanded;\n        }\n      );\n      if (this.expanded) {\n        forEach(headerItems, (item) => {\n          item.setAttribute('tabindex', '-1');\n        });\n      } else {\n        forEach(headerItems, (item) => {\n          item.removeAttribute('tabindex');\n        });\n      }\n    }\n    if (changedProperties.has('isNotChildOfHeader')) {\n      forEach(\n        doc.querySelectorAll(\n          (this.constructor as typeof CDSSideNav).selectorButtonToggle\n        ),\n        (item) => {\n          (item as CDSHeaderMenuButton).isNotChildOfHeader =\n            this.isNotChildOfHeader;\n        }\n      );\n    }\n  }\n\n  /**\n   * Handles `blur` event handler on this element.\n   *\n   * @param event The event.\n   * @param event.relatedTarget The event relatedTarget.\n   */\n  @HostListener('focusout')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleFocusOut({ relatedTarget }: FocusEvent) {\n    const { collapseMode } = this;\n    if (collapseMode !== SIDE_NAV_COLLAPSE_MODE.FIXED) {\n      if (!this.contains(relatedTarget as Node)) {\n        this.expanded = false;\n      }\n    }\n  }\n\n  /**\n   * Handles `focus` event handler on this element.\n   *\n   */\n  @HostListener('focusin')\n  // @ts-ignore: The decorator refers to this method but TS thinks this method is not referred to\n  private _handleFocusIn() {\n    const { collapseMode } = this;\n    if (collapseMode !== SIDE_NAV_COLLAPSE_MODE.FIXED) {\n      this.expanded = true;\n    }\n  }\n\n  /**\n   * Handles the `mouseover` event for the side nav in rail mode.\n   *\n   */\n  private _handleNavMouseOver() {\n    const { collapseMode } = this;\n    if (collapseMode === SIDE_NAV_COLLAPSE_MODE.RAIL) {\n      this.expanded = true;\n      this._hovered = true;\n      this._updatedSideNavMenuForceCollapsedState();\n    }\n  }\n\n  /**\n   * Handles the `mouseout` event for the side nav in rail mode.\n   *\n   */\n  private _handleNavMouseOut() {\n    const { collapseMode } = this;\n    if (collapseMode === SIDE_NAV_COLLAPSE_MODE.RAIL) {\n      this.expanded = false;\n      this._hovered = false;\n      this._updatedSideNavMenuForceCollapsedState();\n    }\n  }\n\n  /**\n   * Handles the `click` event for the side nav overlay.\n   *\n   */\n  private _onOverlayClick() {\n    this.expanded = false;\n  }\n\n  render() {\n    const { collapseMode, expanded, isNotChildOfHeader, isNotPersistent } =\n      this;\n    const classes = classMap({\n      [`${prefix}--side-nav__navigation`]: true,\n      [`${prefix}--side-nav`]: true,\n      [`${prefix}--side-nav--expanded`]: expanded,\n      [`${prefix}--side-nav--collapsed`]:\n        !expanded && collapseMode === SIDE_NAV_COLLAPSE_MODE.FIXED,\n      [`${prefix}--side-nav--rail`]:\n        collapseMode === SIDE_NAV_COLLAPSE_MODE.RAIL,\n      [`${prefix}--side-nav--ux`]: !isNotChildOfHeader,\n      [`${prefix}--side-nav--hidden`]: isNotPersistent,\n    });\n\n    const overlayClasses = classMap({\n      [`${prefix}--side-nav__overlay`]: true,\n      [`${prefix}--side-nav__overlay-active`]: expanded,\n    });\n    return html`${this.collapseMode === SIDE_NAV_COLLAPSE_MODE.FIXED\n        ? null\n        : html`<div\n            class=\"${overlayClasses}\"\n            @click=${this._onOverlayClick}></div>`}\n      <div\n        class=\"${classes}\"\n        @mouseover=\"${this._handleNavMouseOver}\"\n        @mouseout=\"${this._handleNavMouseOut}\">\n        <slot></slot>\n      </div>`;\n  }\n\n  /**\n   * A selector that will return the toggle buttons.\n   */\n  static get selectorButtonToggle() {\n    return `${prefix}-header-menu-button`;\n  }\n\n  /**\n   * A selector that will return the header name + global action elements.\n   */\n  static get selectorHeaderItems() {\n    return `${prefix}-header-name, ${prefix}-header-global-action`;\n  }\n\n  /**\n   * A selector that will return side nav focusable items.\n   */\n  static get selectorNavItems() {\n    return `${prefix}-side-nav-menu, ${prefix}-side-nav-menu-item, ${prefix}-side-nav-link`;\n  }\n\n  /**\n   * A selector that will return side nav menus.\n   */\n  static get selectorMenu() {\n    return `${prefix}-side-nav-menu`;\n  }\n\n  /**\n   * The name of the custom event fired after the header menu button in the document is toggled upon a user gesture.\n   */\n  static get eventButtonToggle() {\n    return `${prefix}-header-menu-button-toggled`;\n  }\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSSideNav;\n"],"mappings":"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"}