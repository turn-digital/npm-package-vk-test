{"version":3,"file":"side-nav-menu.js","names":["LitElement","html","property","query","ChevronDown20","prefix","forEach","FocusMixin","styles","carbonElement","customElement","CDSSideNavMenu","_decorate","_initialize","_FocusMixin","constructor","args","F","d","kind","key","value","decorators","_handleUserInitiatedToggle","expanded","eventBeforeToggle","eventToggle","init","bubbles","cancelable","composed","detail","dispatchEvent","CustomEvent","_handleClickExpando","_handleSlotChange","target","_hasIcon","hasIcon","assignedNodes","item","nodeType","Node","ELEMENT_NODE","toggleAttribute","attribItemHasIcon","_handleSlotChangeTitleIcon","_this$_titleIconConta","length","_titleIconContainerNode","querySelectorAll","selectorItem","type","Boolean","reflect","attribute","connectedCallback","hasAttribute","setAttribute","_get","_getPrototypeOf","prototype","call","updated","changedProperties","has","elem","tabIndex","render","forceCollapsed","title","handleClickExpando","handleSlotChange","handleSlotChangeTitleIcon","_t","_","String","part","static","_objectSpread","shadowRootOptions","delegatesFocus"],"sources":["components/ui-shell/side-nav-menu.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement, html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport ChevronDown20 from '@carbon/icons/lib/chevron--down/20';\nimport { prefix } from '../../globals/settings';\nimport { forEach } from '../../globals/internal/collection-helpers';\nimport FocusMixin from '../../globals/mixins/focus';\nimport styles from './side-nav.scss';\nimport { carbonElement as customElement } from '../../globals/decorators/carbon-element';\n\n/**\n * Side nav menu.\n *\n * @element cds-side-nav-menu\n * @fires cds-side-nav-menu-beingtoggled\n *   The name of the custom event fired before this side nav menu is being toggled upon a user gesture.\n *   Cancellation of this event stops the user-initiated action of toggling this side nav menu.\n * @fires cds-side-nav-menu-toggled\n *   The name of the custom event fired after this side nav menu is toggled upon a user gesture.\n * @slot title-icon - The icon.\n * @csspart expando The expando.\n * @csspart expando-icon-container The expando icon container.\n * @csspart expando-icon The expando icon.\n * @csspart title The title.\n * @csspart title-icon-container The title icon container.\n * @csspart menu-body The menu body.\n */\n@customElement(`${prefix}-side-nav-menu`)\nclass CDSSideNavMenu extends FocusMixin(LitElement) {\n  /**\n   * `true` if this menu has an icon.\n   */\n  private _hasIcon = false;\n\n  /**\n   * The container for the title icon.\n   */\n  @query('#title-icon-container')\n  private _titleIconContainerNode!: HTMLDivElement;\n\n  /**\n   * Handles user-initiated toggle request of this side nav menu.\n   *\n   * @param expanded The new expanded state.\n   */\n  private _handleUserInitiatedToggle(expanded = !this.expanded) {\n    const { eventBeforeToggle, eventToggle } = this\n      .constructor as typeof CDSSideNavMenu;\n    const init = {\n      bubbles: true,\n      cancelable: true,\n      composed: true,\n      detail: {\n        expanded,\n      },\n    };\n    if (this.dispatchEvent(new CustomEvent(eventBeforeToggle, init))) {\n      this.expanded = expanded;\n      this.dispatchEvent(new CustomEvent(eventToggle, init));\n    }\n  }\n\n  /**\n   * Handler for the `click` event on the expando button.\n   */\n  private _handleClickExpando() {\n    this._handleUserInitiatedToggle();\n  }\n\n  /**\n   * Handles `slotchange` event on the non-named `<slot>`.\n   */\n  private _handleSlotChange({ target }) {\n    const { _hasIcon: hasIcon } = this;\n    forEach(target.assignedNodes(), (item) => {\n      if (item.nodeType === Node.ELEMENT_NODE) {\n        item.toggleAttribute(\n          (this.constructor as typeof CDSSideNavMenu).attribItemHasIcon,\n          hasIcon\n        );\n      }\n    });\n  }\n\n  /**\n   * Handles `slotchange` event on the `<slot>` for the title icon.\n   */\n  private _handleSlotChangeTitleIcon({ target }) {\n    const constructor = this.constructor as typeof CDSSideNavMenu;\n    const hasIcon = target.assignedNodes().length > 0;\n    this._hasIcon = hasIcon;\n    this._titleIconContainerNode?.toggleAttribute('hidden', !hasIcon);\n    forEach(this.querySelectorAll(constructor.selectorItem), (item) => {\n      item.toggleAttribute(constructor.attribItemHasIcon, hasIcon);\n    });\n  }\n\n  /**\n   * `true` if the menu has active menu item.\n   */\n  @property({ type: Boolean, reflect: true })\n  active = false;\n\n  /**\n   * `true` if the menu should be open.\n   */\n  @property({ type: Boolean, reflect: true })\n  expanded = false;\n\n  /**\n   * Specify if this is a large variation of the side nav menu\n   */\n  @property({ type: Boolean, reflect: true })\n  large = false;\n\n  /**\n   * `true` if the menu should be forced collapsed upon side nav's expanded state.\n   */\n  @property({ type: Boolean, reflect: true, attribute: 'force-collapsed' })\n  forceCollapsed = false;\n\n  /**\n   * The title text.\n   */\n  @property()\n  title = '';\n\n  connectedCallback() {\n    if (!this.hasAttribute('role')) {\n      this.setAttribute('role', 'listitem');\n    }\n    super.connectedCallback();\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.has('expanded')) {\n      const { selectorItem } = this.constructor as typeof CDSSideNavMenu;\n      const { expanded } = this;\n      forEach(this.querySelectorAll(selectorItem), (elem) => {\n        (elem as HTMLElement).tabIndex = expanded ? 0 : -1;\n      });\n    }\n  }\n\n  render() {\n    const {\n      expanded,\n      forceCollapsed,\n      title,\n      _handleClickExpando: handleClickExpando,\n      _handleSlotChange: handleSlotChange,\n      _handleSlotChangeTitleIcon: handleSlotChangeTitleIcon,\n    } = this;\n    return html`\n      <button\n        type=\"button\"\n        part=\"expando\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"${String(Boolean(expanded && !forceCollapsed))}\"\n        class=\"${prefix}--side-nav__submenu\"\n        @click=${handleClickExpando}>\n        <div\n          id=\"title-icon-container\"\n          part=\"title-icon-container\"\n          hidden\n          class=\"${prefix}--side-nav__icon\">\n          <slot\n            name=\"title-icon\"\n            @slotchange=${handleSlotChangeTitleIcon}></slot>\n        </div>\n        <span part=\"title\" class=\"${prefix}--side-nav__submenu-title\"\n          >${title}</span\n        >\n        <div\n          part=\"expando-icon-container\"\n          class=\"${prefix}--side-nav__icon ${prefix}--side-nav__icon--small ${prefix}--side-nav__submenu-chevron\">\n          ${ChevronDown20({ part: 'expando-icon' })}\n        </div>\n      </button>\n      <ul part=\"menu-body\" class=\"${prefix}--side-nav__menu\">\n        <slot @slotchange=${handleSlotChange}></slot>\n      </ul>\n    `;\n  }\n\n  /**\n   * The attribute name of the menu items, that is set if this menu has an icon.\n   */\n  static attribItemHasIcon = 'parent-has-icon';\n\n  /**\n   * A selector that will return the menu items.\n   */\n  static get selectorItem() {\n    return `${prefix}-side-nav-menu-item`;\n  }\n\n  /**\n   * The name of the custom event fired before this side nav menu is being toggled upon a user gesture.\n   * Cancellation of this event stops the user-initiated action of toggling this side nav menu.\n   */\n  static get eventBeforeToggle() {\n    return `${prefix}-side-nav-menu-beingtoggled`;\n  }\n\n  /**\n   * The name of the custom event fired after this side nav menu is toggled upon a user gesture.\n   */\n  static get eventToggle() {\n    return `${prefix}-side-nav-menu-toggled`;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSSideNavMenu;\n"],"mappings":"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"}