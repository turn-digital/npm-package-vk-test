{"version":3,"file":"header-global-action.js","names":["LitElement","property","customElement","query","BUTTON_TOOLTIP_POSITION","CDSButton","HostListener","styles","prefix","CDSHeaderGlobalAction","_decorate","_initialize","_CDSButton","constructor","args","F","d","kind","decorators","key","value","type","Boolean","reflect","String","attribute","connectedCallback","tooltipPosition","BOTTOM","_get","_getPrototypeOf","prototype","call","capture","_handleClick","event","disabled","stopPropagation","panel","document","querySelector","panelId","expanded","getAttribute","removeAttribute","setAttribute","active","updated","_buttonNode","classList","add","shouldUpdate","changedProperties","has","buttonLabelActive","tooltipText","remove","buttonLabelInactive","static","_objectSpread","shadowRootOptions","delegatesFocus"],"sources":["components/ui-shell/header-global-action.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { LitElement } from 'lit';\nimport { property, customElement, query } from 'lit/decorators.js';\nimport { BUTTON_TOOLTIP_POSITION } from '../button/button';\nimport CDSButton from '../button/button';\nimport HostListener from '../../globals/decorators/host-listener';\nimport styles from './header.scss';\nimport { prefix } from '../../globals/settings';\n\n/**\n * Header global action button\n *\n * @element cds-header-global-action\n */\n@customElement(`${prefix}-header-global-action`)\nclass CDSHeaderGlobalAction extends CDSButton {\n  @query('button')\n  protected _buttonNode!: HTMLButtonElement;\n\n  /**\n   * Specify whether the action is currently active\n   */\n  @property({ type: Boolean, reflect: true })\n  active;\n\n  /**\n   * Specify which header panel the button is associated with.\n   */\n  @property({ type: String, attribute: 'panel-id', reflect: true })\n  panelId;\n\n  /**\n   * The `aria-label` attribute for the button in its active state.\n   */\n  @property({ attribute: 'button-label-active' })\n  buttonLabelActive;\n\n  /**\n   * The `aria-label` attribute for the button in its inactive state.\n   */\n  @property({ attribute: 'button-label-inactive' })\n  buttonLabelInactive;\n\n  connectedCallback() {\n    this.tooltipPosition = BUTTON_TOOLTIP_POSITION.BOTTOM;\n    super.connectedCallback();\n  }\n\n  @HostListener('click', { capture: true })\n  // @ts-ignore\n  private _handleClick(event: Event) {\n    const { disabled } = this;\n    if (disabled) {\n      event.stopPropagation();\n    } else {\n      const panel = document.querySelector(`#${this.panelId}`);\n\n      // see if there is related panel for header-global-action button first\n      // and then set the expanded attr of it accordingly\n      if (panel) {\n        const expanded = panel.getAttribute('expanded');\n\n        if (expanded) {\n          panel.removeAttribute('expanded');\n        } else {\n          panel.setAttribute('expanded', 'true');\n        }\n\n        const active = !this.active;\n        this.active = active;\n      }\n    }\n  }\n\n  updated() {\n    if (this._buttonNode) {\n      this._buttonNode.classList.add(`${prefix}--header__action`);\n    }\n  }\n\n  shouldUpdate(changedProperties) {\n    if (changedProperties.has('active')) {\n      if (this.active) {\n        this._buttonNode.classList.add(`${prefix}--header__action--active`);\n\n        if (this.buttonLabelActive) {\n          this.tooltipText = this.buttonLabelActive;\n        }\n      } else {\n        this._buttonNode.classList.remove(`${prefix}--header__action--active`);\n\n        if (this.buttonLabelInactive) {\n          this.tooltipText = this.buttonLabelInactive;\n        }\n      }\n    }\n    return true;\n  }\n\n  static shadowRootOptions = {\n    ...LitElement.shadowRootOptions,\n    delegatesFocus: true,\n  };\n\n  static styles = styles; // `styles` here is a `CSSResult` generated by custom WebPack loader\n}\n\nexport default CDSHeaderGlobalAction;\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,UAAU,QAAQ,KAAK;AAChC,SAASC,QAAQ,EAAEC,aAAa,EAAEC,KAAK,QAAQ,mBAAmB;AAClE,SAASC,uBAAuB,QAAQ,kBAAkB;AAC1D,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAOC,YAAY,MAAM,wCAAwC;AACjE,OAAOC,MAAM,MAAM,mBAAe;AAClC,SAASC,MAAM,QAAQ,wBAAwB;;AAE/C;AACA;AACA;AACA;AACA;AAJA,IAMMC,qBAAqB,GAAAC,SAAA,EAD1BR,aAAa,CAAE,GAAEM,MAAO,uBAAsB,CAAC,aAAAG,WAAA,EAAAC,UAAA;EAAhD,MACMH,qBAAqB,SAAAG,UAAA,CAAmB;IAAAC,YAAA,GAAAC,IAAA;MAAA,SAAAA,IAAA;MAAAH,WAAA;IAAA;EA0F9C;EAAC;IAAAI,CAAA,EA1FKN,qBAAqB;IAAAO,CAAA;MAAAC,IAAA;MAAAC,UAAA,GACxBf,KAAK,CAAC,QAAQ,CAAC;MAAAgB,GAAA;MAAAC,KAAA;IAAA;MAAAH,IAAA;MAAAC,UAAA,GAMfjB,QAAQ,CAAC;QAAEoB,IAAI,EAAEC,OAAO;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAAAJ,GAAA;MAAAC,KAAA;IAAA;MAAAH,IAAA;MAAAC,UAAA,GAM1CjB,QAAQ,CAAC;QAAEoB,IAAI,EAAEG,MAAM;QAAEC,SAAS,EAAE,UAAU;QAAEF,OAAO,EAAE;MAAK,CAAC,CAAC;MAAAJ,GAAA;MAAAC,KAAA;IAAA;MAAAH,IAAA;MAAAC,UAAA,GAMhEjB,QAAQ,CAAC;QAAEwB,SAAS,EAAE;MAAsB,CAAC,CAAC;MAAAN,GAAA;MAAAC,KAAA;IAAA;MAAAH,IAAA;MAAAC,UAAA,GAM9CjB,QAAQ,CAAC;QAAEwB,SAAS,EAAE;MAAwB,CAAC,CAAC;MAAAN,GAAA;MAAAC,KAAA;IAAA;MAAAH,IAAA;MAAAE,GAAA;MAAAC,KAAA;MArBjD;AACF;AACA;;MAIE;AACF;AACA;;MAIE;AACF;AACA;;MAIE;AACF;AACA;;MAIE,SAAAM,kBAAA,EAAoB;QAClB,IAAI,CAACC,eAAe,GAAGvB,uBAAuB,CAACwB,MAAM;QACrDC,IAAA,CAAAC,eAAA,CA9BErB,qBAAqB,CAAAsB,SAAA,8BAAAC,IAAA;MA+BzB;IAAC;MAAAf,IAAA;MAAAC,UAAA,GAEAZ,YAAY,CAAC,OAAO,EAAE;QAAE2B,OAAO,EAAE;MAAK,CAAC,CAAC;MAAAd,GAAA;MAAAC,KAAA,EAAzC,SAAAc,aAEqBC,KAAY,EAAE;QACjC,MAAM;UAAEC;QAAS,CAAC,GAAG,IAAI;QACzB,IAAIA,QAAQ,EAAE;UACZD,KAAK,CAACE,eAAe,CAAC,CAAC;QACzB,CAAC,MAAM;UACL,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAE,IAAG,IAAI,CAACC,OAAQ,EAAC,CAAC;;UAExD;UACA;UACA,IAAIH,KAAK,EAAE;YACT,MAAMI,QAAQ,GAAGJ,KAAK,CAACK,YAAY,CAAC,UAAU,CAAC;YAE/C,IAAID,QAAQ,EAAE;cACZJ,KAAK,CAACM,eAAe,CAAC,UAAU,CAAC;YACnC,CAAC,MAAM;cACLN,KAAK,CAACO,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC;YACxC;YAEA,MAAMC,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM;YAC3B,IAAI,CAACA,MAAM,GAAGA,MAAM;UACtB;QACF;MACF;IAAC;MAAA7B,IAAA;MAAAE,GAAA;MAAAC,KAAA,EAED,SAAA2B,QAAA,EAAU;QACR,IAAI,IAAI,CAACC,WAAW,EAAE;UACpB,IAAI,CAACA,WAAW,CAACC,SAAS,CAACC,GAAG,CAAE,GAAE1C,MAAO,kBAAiB,CAAC;QAC7D;MACF;IAAC;MAAAS,IAAA;MAAAE,GAAA;MAAAC,KAAA,EAED,SAAA+B,aAAaC,iBAAiB,EAAE;QAC9B,IAAIA,iBAAiB,CAACC,GAAG,CAAC,QAAQ,CAAC,EAAE;UACnC,IAAI,IAAI,CAACP,MAAM,EAAE;YACf,IAAI,CAACE,WAAW,CAACC,SAAS,CAACC,GAAG,CAAE,GAAE1C,MAAO,0BAAyB,CAAC;YAEnE,IAAI,IAAI,CAAC8C,iBAAiB,EAAE;cAC1B,IAAI,CAACC,WAAW,GAAG,IAAI,CAACD,iBAAiB;YAC3C;UACF,CAAC,MAAM;YACL,IAAI,CAACN,WAAW,CAACC,SAAS,CAACO,MAAM,CAAE,GAAEhD,MAAO,0BAAyB,CAAC;YAEtE,IAAI,IAAI,CAACiD,mBAAmB,EAAE;cAC5B,IAAI,CAACF,WAAW,GAAG,IAAI,CAACE,mBAAmB;YAC7C;UACF;QACF;QACA,OAAO,IAAI;MACb;IAAC;MAAAxC,IAAA;MAAAyC,MAAA;MAAAvC,GAAA;MAAAC,MAAA;QAAA,OAAAuC,aAAA,CAAAA,aAAA,KAGI3D,UAAU,CAAC4D,iBAAiB;UAC/BC,cAAc,EAAE;QAAI;MAAA;IAAA;MAAA5C,IAAA;MAAAyC,MAAA;MAAAvC,GAAA;MAAAC,MAAA;QAAA,OAGNb,MAAM;MAAA;IAAA;EAAA;AAAA,GAzFYF,SAAS;AA4F7C,eAAeI,qBAAqB"}