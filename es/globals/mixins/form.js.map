{"version":3,"file":"form.js","names":["on","FormMixin","Base","FormMixinImpl","constructor","args","_defineProperty","connectedCallback","form","closest","_hFormdata","_handleFormdata","bind","disconnectedCallback","release"],"sources":["globals/mixins/form.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2023\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport on from './on';\nimport Handle from '../internal/handle';\n\n/**\n * @param Base The base class.\n * @returns A mix-in to handle `formdata` event on the containing form.\n */\nconst FormMixin = <T extends Constructor<HTMLElement>>(Base: T) => {\n  /**\n   * A mix-in class to handle `formdata` event on the containing form.\n   */\n  abstract class FormMixinImpl extends Base {\n    /**\n     * The handle for `formdata` event listener on the containing form.\n     *\n     * @private\n     */\n    _hFormdata: Handle | null = null; // Not using TypeScript `private` due to: microsoft/TypeScript#17744\n\n    /**\n     * Handles `formdata` event.\n     *\n     * @param event The event.\n     */\n    abstract _handleFormdata(event: Event): void;\n\n    connectedCallback() {\n      // @ts-ignore\n      super.connectedCallback();\n      const form = this.closest('form');\n      if (form) {\n        this._hFormdata = on(form, 'formdata', this._handleFormdata.bind(this));\n      }\n    }\n\n    disconnectedCallback() {\n      if (this._hFormdata) {\n        this._hFormdata = this._hFormdata.release();\n      }\n      // @ts-ignore\n      super.disconnectedCallback();\n    }\n  }\n  return FormMixinImpl;\n};\n\nexport default FormMixin;\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,EAAE,MAAM,MAAM;AAGrB;AACA;AACA;AACA;AACA,MAAMC,SAAS,GAAwCC,IAAO,IAAK;EACjE;AACF;AACA;EACE,MAAeC,aAAa,SAASD,IAAI,CAAC;IAAAE,YAAA,GAAAC,IAAA;MAAA,SAAAA,IAAA;MACxC;AACJ;AACA;AACA;AACA;MAJIC,eAAA,qBAK4B,IAAI;IAAA,EAAE;IAElC;AACJ;AACA;AACA;AACA;IAGIC,iBAAiBA,CAAA,EAAG;MAClB;MACA,KAAK,CAACA,iBAAiB,CAAC,CAAC;MACzB,MAAMC,IAAI,GAAG,IAAI,CAACC,OAAO,CAAC,MAAM,CAAC;MACjC,IAAID,IAAI,EAAE;QACR,IAAI,CAACE,UAAU,GAAGV,EAAE,CAACQ,IAAI,EAAE,UAAU,EAAE,IAAI,CAACG,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MACzE;IACF;IAEAC,oBAAoBA,CAAA,EAAG;MACrB,IAAI,IAAI,CAACH,UAAU,EAAE;QACnB,IAAI,CAACA,UAAU,GAAG,IAAI,CAACA,UAAU,CAACI,OAAO,CAAC,CAAC;MAC7C;MACA;MACA,KAAK,CAACD,oBAAoB,CAAC,CAAC;IAC9B;EACF;EACA,OAAOV,aAAa;AACtB,CAAC;AAED,eAAeF,SAAS"}