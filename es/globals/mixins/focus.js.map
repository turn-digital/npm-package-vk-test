{"version":3,"file":"focus.js","names":["selectorTabbable","FocusMixin","Base","focus","shadowRoot","delegatesFocus","delegateTarget","querySelector"],"sources":["globals/mixins/focus.ts"],"sourcesContent":["/**\n * @license\n *\n * Copyright IBM Corp. 2019, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { selectorTabbable } from '../settings';\n\n/**\n * @param Base The base class.\n * @returns A mix-in implementing `.focus()` method that focuses on the first focusable element in the shadow DOM.\n */\nconst FocusMixin = <T extends Constructor<HTMLElement>>(Base: T) =>\n  class extends Base {\n    /**\n     * Focuses on the first focusable element in the shadow DOM.\n     */\n    focus() {\n      // @ts-ignore: Until `delegatesFocus` is added to `ShadowRoot` definition\n      if (this.shadowRoot!.delegatesFocus) {\n        super.focus();\n      } else {\n        const delegateTarget =\n          this.shadowRoot!.querySelector(selectorTabbable) ||\n          this.querySelector(selectorTabbable);\n        if (delegateTarget) {\n          (delegateTarget as HTMLElement).focus();\n        } else {\n          super.focus();\n        }\n      }\n    }\n  };\n\nexport default FocusMixin;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,gBAAgB,QAAQ,aAAa;;AAE9C;AACA;AACA;AACA;AACA,MAAMC,UAAU,GAAwCC,IAAO,IAC7D,cAAcA,IAAI,CAAC;EACjB;AACJ;AACA;EACIC,KAAKA,CAAA,EAAG;IACN;IACA,IAAI,IAAI,CAACC,UAAU,CAAEC,cAAc,EAAE;MACnC,KAAK,CAACF,KAAK,CAAC,CAAC;IACf,CAAC,MAAM;MACL,MAAMG,cAAc,GAClB,IAAI,CAACF,UAAU,CAAEG,aAAa,CAACP,gBAAgB,CAAC,IAChD,IAAI,CAACO,aAAa,CAACP,gBAAgB,CAAC;MACtC,IAAIM,cAAc,EAAE;QACjBA,cAAc,CAAiBH,KAAK,CAAC,CAAC;MACzC,CAAC,MAAM;QACL,KAAK,CAACA,KAAK,CAAC,CAAC;MACf;IACF;EACF;AACF,CAAC;AAEH,eAAeF,UAAU"}